;--------------------------------------------------------
; File Created by SDCC : free open source ISO C Compiler 
; Version 4.4.0 #14620 (MINGW64)
;--------------------------------------------------------
	.module tarp
	.optsdcc -mz80
	
;--------------------------------------------------------
; Public variables in this module
;--------------------------------------------------------
	.globl _pressKey
	.globl _main
	.globl _SetSpriteVisible
	.globl _PUTSPRITE
	.globl _SetSpritesZoom
	.globl _SetSpritesSize
	.globl _ClearSprites
	.globl _CopyToVRAM
	.globl _FillVRAM
	.globl _VPOKE
	.globl _COLOR
	.globl _SCREEN
	.globl _STRIG
	.globl _STICK
	.globl _GetKeyMatrix
	.globl _FillRAM
	.globl _POKE
	.globl _PEEK
	.globl _HELP_TXTADDR
	.globl __isDrumKitB
	.globl __cursor_pos
	.globl _SEED
	.globl _envelope_list
	.globl _patternB
	.globl _patternA
	.globl __pattern
	.globl __playPatternNumber
	.globl _AYREGS
	.globl __DrumKit
	.globl __Drum
	.globl __toneAmp
	.globl __env_step
	.globl __DrumEnabled
	.globl __ToneEnabled
	.globl __transpose
	.globl __newENDstep
	.globl __ENDstep
	.globl __last_step
	.globl __pattern_step
	.globl __songSpeedStep
	.globl __songSpeed
	.globl __playerStatus
	.globl __playerHardware
	.globl _VDP_type
	.globl _xvalues
	.globl _yvalues
	.globl _vaddr_cursor
	.globl _drumcolor
	.globl _enve_loop
	.globl _enve_data
	.globl _app_version
	.globl _app_author
	.globl _app_name
	.globl _APPCODE
	.globl _FXwipe2theMiddle
	.globl _logoScreen
	.globl _WorkWin
	.globl _Help
	.globl _checkMSX
	.globl _initGUI
	.globl _ShowSequenceCursor
	.globl _SetPatternLenght
	.globl _PlaySomething
	.globl _invertDrumChannel
	.globl _invertToneChannel
	.globl _initWaveEnvelopes
	.globl _initPatternsData
	.globl _PlayerInit
	.globl _PlayerDecode
	.globl _PlayAY
	.globl _SetMixer
	.globl _SetDrumKit
	.globl _Silence
	.globl _Play
	.globl _Stop
	.globl _Rnd
	.globl _ChangePattern
	.globl _SetPattern
	.globl _CopyPattern
	.globl _ShowPatternRadioButton
	.globl _genDrumPattern
	.globl _genTonePattern
	.globl _ShowPattern
	.globl _ShowDrumPattern
	.globl _ShowTonePattern
	.globl _upOctave
	.globl _downOctave
	.globl _showOctave
	.globl _showABmix
	.globl _showABoffset
	.globl _TransposeUp
	.globl _TransposeDown
	.globl _getFreq
	.globl _GetVAddressByPosition
	.globl _VPRINT
	.globl _VPokeString
	.globl _VPrintNum
	.globl _num2Dec16
	.globl _GUI_switcher
	.globl _showEnv
	.globl _showSpeaker
	.globl _initHelpText
	.globl _showHelpText
	.globl _showScrollbar
	.globl _showLogoScreen
	.globl _setTileset
	.globl _setSprites
	.globl _showMainScr
	.globl _showHelpScr
	.globl _SetPalette
;--------------------------------------------------------
; special function registers
;--------------------------------------------------------
;--------------------------------------------------------
; ram data
;--------------------------------------------------------
	.area _DATA
_VDP_type::
	.ds 1
__playerHardware::
	.ds 1
__playerStatus::
	.ds 1
__songSpeed::
	.ds 1
__songSpeedStep::
	.ds 1
__pattern_step::
	.ds 1
__last_step::
	.ds 1
__ENDstep::
	.ds 1
__newENDstep::
	.ds 1
__transpose::
	.ds 1
__ToneEnabled::
	.ds 1
__DrumEnabled::
	.ds 1
__env_step::
	.ds 1
__toneAmp::
	.ds 1
__Drum::
	.ds 2
__DrumKit::
	.ds 24
_AYREGS::
	.ds 14
__playPatternNumber::
	.ds 1
__pattern::
	.ds 2
_patternA::
	.ds 37
_patternB::
	.ds 37
_envelope_list::
	.ds 136
_SEED::
	.ds 1
__cursor_pos::
	.ds 1
__isDrumKitB::
	.ds 1
_HELP_TXTADDR::
	.ds 1073
;--------------------------------------------------------
; ram data
;--------------------------------------------------------
	.area _INITIALIZED
;--------------------------------------------------------
; absolute external ram data
;--------------------------------------------------------
	.area _DABS (ABS)
;--------------------------------------------------------
; global & static initialisations
;--------------------------------------------------------
	.area _HOME
	.area _GSINIT
	.area _GSFINAL
	.area _GSINIT
;--------------------------------------------------------
; Home
;--------------------------------------------------------
	.area _HOME
	.area _HOME
;--------------------------------------------------------
; code
;--------------------------------------------------------
	.area _CODE
;src\tarp.c:345: void main(void) {
;	---------------------------------
; Function main
; ---------------------------------
_main::
;src\tarp.c:347: checkMSX();
	call	_checkMSX
;src\tarp.c:349: _playPatternNumber = PATTERN_A;
	ld	hl, #__playPatternNumber
	ld	(hl), #0x00
;src\tarp.c:351: COLOR(15,1,1);  
	ld	a, #0x01
	push	af
	inc	sp
	ld	l, #0x01
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x0f
	call	_COLOR
;src\tarp.c:352: SCREEN(2);  
	ld	a, #0x02
	call	_SCREEN
;src\tarp.c:354: POKE(CLIKSW,0);
	xor	a, a
	push	af
	inc	sp
	ld	hl, #0xf3db
	call	_POKE
;src\tarp.c:356: initWaveEnvelopes();
	call	_initWaveEnvelopes
;src\tarp.c:357: initPatternsData();
	call	_initPatternsData
;src\tarp.c:359: initHelpText();
	call	_initHelpText
;src\tarp.c:361: logoScreen();
	call	_logoScreen
;src\tarp.c:364: FXwipe2theMiddle(); //screen transition
	call	_FXwipe2theMiddle
;src\tarp.c:368: WorkWin();
;src\tarp.c:369: }
	jp	_WorkWin
_APPCODE:
	.ascii "MV0061"
	.db 0x00
_app_name:
	.ascii "THE ALAN RANDOMS PROJECT"
	.db 0x00
_app_author:
	.ascii "MVAC7/303BCN"
	.db 0x00
_app_version:
	.ascii "1.1"
	.db 0x00
_enve_data:
	.db #0x0e	; 14
	.db #0x0d	; 13
	.db #0x0c	; 12
	.db #0x0b	; 11
	.db #0x0a	; 10
	.db #0x09	; 9
	.db #0x08	; 8
	.db #0x07	; 7
	.db #0x06	; 6
	.db #0x05	; 5
	.db #0x04	; 4
	.db #0x03	; 3
	.db #0x02	; 2
	.db #0x01	; 1
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x01	; 1
	.db #0x02	; 2
	.db #0x03	; 3
	.db #0x04	; 4
	.db #0x05	; 5
	.db #0x06	; 6
	.db #0x07	; 7
	.db #0x08	; 8
	.db #0x09	; 9
	.db #0x0a	; 10
	.db #0x0b	; 11
	.db #0x0c	; 12
	.db #0x0d	; 13
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0c	; 12
	.db #0x0a	; 10
	.db #0x08	; 8
	.db #0x06	; 6
	.db #0x04	; 4
	.db #0x02	; 2
	.db #0x01	; 1
	.db #0x00	; 0
	.db #0x01	; 1
	.db #0x02	; 2
	.db #0x04	; 4
	.db #0x06	; 6
	.db #0x08	; 8
	.db #0x0a	; 10
	.db #0x0c	; 12
	.db #0x00	; 0
	.db #0x01	; 1
	.db #0x02	; 2
	.db #0x04	; 4
	.db #0x06	; 6
	.db #0x08	; 8
	.db #0x0a	; 10
	.db #0x0c	; 12
	.db #0x0e	; 14
	.db #0x0c	; 12
	.db #0x0a	; 10
	.db #0x08	; 8
	.db #0x06	; 6
	.db #0x04	; 4
	.db #0x02	; 2
	.db #0x01	; 1
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x0e	; 14
	.db #0x04	; 4
	.db #0x04	; 4
	.db #0x04	; 4
	.db #0x04	; 4
	.db #0x04	; 4
	.db #0x04	; 4
	.db #0x04	; 4
	.db #0x04	; 4
	.db #0x07	; 7
	.db #0x09	; 9
	.db #0x0c	; 12
	.db #0x0d	; 13
	.db #0x0d	; 13
	.db #0x0d	; 13
	.db #0x0b	; 11
	.db #0x08	; 8
	.db #0x05	; 5
	.db #0x02	; 2
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x01	; 1
	.db #0x04	; 4
	.db #0x06	; 6
	.db #0x0e	; 14
	.db #0x0d	; 13
	.db #0x0d	; 13
	.db #0x0c	; 12
	.db #0x0b	; 11
	.db #0x0a	; 10
	.db #0x09	; 9
	.db #0x08	; 8
	.db #0x06	; 6
	.db #0x05	; 5
	.db #0x03	; 3
	.db #0x02	; 2
	.db #0x01	; 1
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x0e	; 14
	.db #0x0d	; 13
	.db #0x0c	; 12
	.db #0x0b	; 11
	.db #0x0a	; 10
	.db #0x09	; 9
	.db #0x09	; 9
	.db #0x09	; 9
	.db #0x09	; 9
	.db #0x09	; 9
	.db #0x09	; 9
	.db #0x09	; 9
	.db #0x08	; 8
	.db #0x06	; 6
	.db #0x04	; 4
	.db #0x02	; 2
_enve_loop:
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x01	; 1
	.db #0x01	; 1
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x00	; 0
	.db #0x00	; 0
_drumcolor:
	.db #0x04	; 4
	.db #0x0c	; 12
	.db #0x08	; 8
	.db #0x07	; 7
_vaddr_cursor:
	.dw #0x1821
	.dw #0x1841
	.dw #0x1861
	.dw #0x1881
	.dw #0x18a1
	.dw #0x18c1
	.dw #0x1901
	.dw #0x1921
	.dw #0x1941
	.dw #0x1981
	.dw #0x19a1
	.dw #0x19c1
	.dw #0x19e1
	.dw #0x1a01
	.dw #0x1a21
	.dw #0x1a61
	.dw #0x1a81
	.dw #0x1ac1
_yvalues:
	.db #0x48	; 72	'H'
	.db #0x41	; 65	'A'
	.db #0x3b	; 59
	.db #0x35	; 53	'5'
	.db #0x2f	; 47
	.db #0x29	; 41
	.db #0x23	; 35
	.db #0x1e	; 30
	.db #0x1a	; 26
	.db #0x15	; 21
	.db #0x12	; 18
	.db #0x0f	; 15
	.db #0x0c	; 12
	.db #0x0a	; 10
	.db #0x08	; 8
	.db #0x08	; 8
	.db #0x08	; 8
	.db #0x08	; 8
	.db #0x09	; 9
	.db #0x0b	; 11
	.db #0x0d	; 13
	.db #0x10	; 16
	.db #0x14	; 20
	.db #0x18	; 24
	.db #0x1c	; 28
	.db #0x21	; 33
	.db #0x26	; 38
	.db #0x2c	; 44
	.db #0x32	; 50	'2'
	.db #0x38	; 56	'8'
	.db #0x3e	; 62
	.db #0x44	; 68	'D'
	.db #0x4b	; 75	'K'
	.db #0x51	; 81	'Q'
	.db #0x57	; 87	'W'
	.db #0x5d	; 93
	.db #0x63	; 99	'c'
	.db #0x69	; 105	'i'
	.db #0x6e	; 110	'n'
	.db #0x73	; 115	's'
	.db #0x77	; 119	'w'
	.db #0x7b	; 123
	.db #0x7f	; 127
	.db #0x82	; 130
	.db #0x84	; 132
	.db #0x86	; 134
	.db #0x87	; 135
	.db #0x87	; 135
	.db #0x87	; 135
	.db #0x87	; 135
	.db #0x85	; 133
	.db #0x83	; 131
	.db #0x80	; 128
	.db #0x7d	; 125
	.db #0x7a	; 122	'z'
	.db #0x75	; 117	'u'
	.db #0x71	; 113	'q'
	.db #0x6c	; 108	'l'
	.db #0x66	; 102	'f'
	.db #0x60	; 96
	.db #0x5a	; 90	'Z'
	.db #0x54	; 84	'T'
	.db #0x4e	; 78	'N'
	.db #0x48	; 72	'H'
_xvalues:
	.db #0x60	; 96
	.db #0x60	; 96
	.db #0x61	; 97	'a'
	.db #0x62	; 98	'b'
	.db #0x65	; 101	'e'
	.db #0x67	; 103	'g'
	.db #0x6b	; 107	'k'
	.db #0x6e	; 110	'n'
	.db #0x73	; 115	's'
	.db #0x78	; 120	'x'
	.db #0x7d	; 125
	.db #0x82	; 130
	.db #0x88	; 136
	.db #0x8e	; 142
	.db #0x94	; 148
	.db #0x9b	; 155
	.db #0xa1	; 161
	.db #0xa7	; 167
	.db #0xae	; 174
	.db #0xb4	; 180
	.db #0xba	; 186
	.db #0xc0	; 192
	.db #0xc5	; 197
	.db #0xca	; 202
	.db #0xce	; 206
	.db #0xd3	; 211
	.db #0xd6	; 214
	.db #0xd9	; 217
	.db #0xdc	; 220
	.db #0xde	; 222
	.db #0xdf	; 223
	.db #0xdf	; 223
	.db #0xdf	; 223
	.db #0xdf	; 223
	.db #0xde	; 222
	.db #0xdc	; 220
	.db #0xd9	; 217
	.db #0xd6	; 214
	.db #0xd3	; 211
	.db #0xce	; 206
	.db #0xca	; 202
	.db #0xc5	; 197
	.db #0xc0	; 192
	.db #0xba	; 186
	.db #0xb4	; 180
	.db #0xae	; 174
	.db #0xa7	; 167
	.db #0xa1	; 161
	.db #0x9b	; 155
	.db #0x94	; 148
	.db #0x8e	; 142
	.db #0x88	; 136
	.db #0x82	; 130
	.db #0x7d	; 125
	.db #0x78	; 120	'x'
	.db #0x73	; 115	's'
	.db #0x6e	; 110	'n'
	.db #0x6b	; 107	'k'
	.db #0x67	; 103	'g'
	.db #0x65	; 101	'e'
	.db #0x62	; 98	'b'
	.db #0x61	; 97	'a'
	.db #0x60	; 96
	.db #0x60	; 96
;src\tarp.c:373: void FXwipe2theMiddle(void)
;	---------------------------------
; Function FXwipe2theMiddle
; ---------------------------------
_FXwipe2theMiddle::
;src\tarp.c:378: HALT;
	halt	
;src\tarp.c:379: ClearSprites();
	call	_ClearSprites
;src\tarp.c:381: FillVRAM(BASE11+0x7F8, 8, 0x11);	//clear bank A tile 0 
	ld	a, #0x11
	push	af
	inc	sp
	ld	de, #0x0008
	ld	hl, #0x27f8
	call	_FillVRAM
;src\tarp.c:382: FillVRAM(BASE11+0x0FF8, 8, 0x11);	//clear bank B tile 0
	ld	a, #0x11
	push	af
	inc	sp
	ld	de, #0x0008
	ld	hl, #0x2ff8
	call	_FillVRAM
;src\tarp.c:383: FillVRAM(BASE11+0x17F8, 8, 0x11);	//clear bank C tile 0
	ld	a, #0x11
	push	af
	inc	sp
	ld	de, #0x0008
	ld	hl, #0x37f8
	call	_FillVRAM
;src\tarp.c:385: for (x=0;x<16;x++)
	ld	c, #0x00
;src\tarp.c:387: for (y=0;y<24;y++)
00109$:
	ld	b, #0x00
00103$:
;src\tarp.c:389: VPOKE(BASE10+(y*32)+x,255);
	ld	l, b
;	spillPairReg hl
;	spillPairReg hl
	ld	h, #0x00
;	spillPairReg hl
;	spillPairReg hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	ld	de, #0x1800
	add	hl, de
	ld	a, c
	ld	e, a
	rlca
	sbc	a, a
	ld	d, a
	push	hl
	pop	iy
	add	iy, de
	push	hl
	push	bc
	push	de
	ld	a, #0xff
	push	af
	inc	sp
	push	iy
	pop	hl
	call	_VPOKE
	pop	de
	pop	bc
	pop	hl
;src\tarp.c:390: VPOKE(BASE10+(y*32)+(31-x),255);    
	ld	a, #0x1f
	sub	a, e
	ld	e, a
	sbc	a, a
	sub	a, d
	ld	d, a
	add	hl, de
	push	bc
	ld	a, #0xff
	push	af
	inc	sp
	call	_VPOKE
	pop	bc
;src\tarp.c:387: for (y=0;y<24;y++)
	inc	b
	ld	a, b
	sub	a, #0x18
	jr	C, 00103$
;src\tarp.c:392: HALT;
	halt	
;src\tarp.c:385: for (x=0;x<16;x++)
	inc	c
	ld	a, c
	xor	a, #0x80
	sub	a, #0x90
	jr	C, 00109$
;src\tarp.c:394: }
	ret
;src\tarp.c:397: void logoScreen(void)
;	---------------------------------
; Function logoScreen
; ---------------------------------
_logoScreen::
;src\tarp.c:401: SetSpritesSize(1);
	ld	a, #0x01
	call	_SetSpritesSize
;src\tarp.c:404: showLogoScreen();  
	call	_showLogoScreen
;src\tarp.c:407: PUTSPRITE(0,74,58,12,0);
	xor	a, a
	ld	h, a
	ld	l, #0x0c
	push	hl
	ld	a, #0x3a
	push	af
	inc	sp
	ld	l, #0x4a
;	spillPairReg hl
;	spillPairReg hl
	xor	a, a
	call	_PUTSPRITE
;src\tarp.c:408: PUTSPRITE(1,73,74,12,1);    
	ld	hl, #0x10c
	push	hl
	ld	a, #0x4a
	push	af
	inc	sp
	ld	l, #0x49
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x01
	call	_PUTSPRITE
;src\tarp.c:409: PUTSPRITE(2,96,57,12,2);     
	ld	hl, #0x20c
	push	hl
	ld	a, #0x39
	push	af
	inc	sp
	ld	l, #0x60
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x02
	call	_PUTSPRITE
;src\tarp.c:410: PUTSPRITE(3,95,73,12,3);
	ld	hl, #0x30c
	push	hl
	ld	a, #0x49
	push	af
	inc	sp
	ld	l, #0x5f
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x03
	call	_PUTSPRITE
;src\tarp.c:411: PUTSPRITE(4,80,64,2,4);
	ld	hl, #0x402
	push	hl
	ld	a, #0x40
	push	af
	inc	sp
	ld	l, #0x50
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x04
	call	_PUTSPRITE
;src\tarp.c:412: PUTSPRITE(5,102,62,2,4);
	ld	hl, #0x402
	push	hl
	ld	a, #0x3e
	push	af
	inc	sp
	ld	l, #0x66
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x05
	call	_PUTSPRITE
;src\tarp.c:415: if (VDP_type>0) SetPalette(0);  
	ld	a, (_VDP_type+0)
	or	a, a
	jr	Z, 00124$
	xor	a, a
	call	_SetPalette
;src\tarp.c:417: while(timec-->0)
00124$:
	ld	bc, #0x02bc
00113$:
	xor	a, a
	cp	a, c
	sbc	a, b
	jp	PO, 00168$
	xor	a, #0x80
00168$:
	ret	P
	dec	bc
;src\tarp.c:419: HALT;
	halt	
;src\tarp.c:420: if (!(GetKeyMatrix(7)&Bit2)) break; // ESC
	push	bc
	ld	a, #0x07
	call	_GetKeyMatrix
	pop	bc
	bit	2, a
	ret	Z
;src\tarp.c:421: if (!(GetKeyMatrix(7)&Bit7)) break; // RETURN
	push	bc
	ld	a, #0x07
	call	_GetKeyMatrix
	pop	bc
	rlca
	ret	NC
;src\tarp.c:422: if (!(GetKeyMatrix(8)&Bit0)) break; // SPACE 
	push	bc
	ld	a, #0x08
	call	_GetKeyMatrix
	pop	bc
	rrca
	ret	NC
;src\tarp.c:423: if (STRIG(1)>0) break; //button 1, joy A
	push	bc
	ld	a, #0x01
	call	_STRIG
	ld	e, a
	pop	bc
	xor	a, a
	sub	a, e
	jp	PO, 00172$
	xor	a, #0x80
00172$:
	ret	M
;src\tarp.c:424: if (STRIG(2)>0) break; //button 1, joy B    
	push	bc
	ld	a, #0x02
	call	_STRIG
	ld	e, a
	pop	bc
	xor	a, a
	sub	a, e
	jp	PO, 00173$
	xor	a, #0x80
00173$:
	jp	P, 00113$
;src\tarp.c:427: }
	ret
;src\tarp.c:432: void WorkWin(void)
;	---------------------------------
; Function WorkWin
; ---------------------------------
_WorkWin::
	push	ix
	ld	ix,#0
	add	ix,sp
	ld	hl, #-18
	add	hl, sp
	ld	sp, hl
;src\tarp.c:436: boolean keyB0pressed=false;
	ld	-18 (ix), #0x00
;src\tarp.c:437: boolean keyB2pressed=false;
	ld	-17 (ix), #0x00
;src\tarp.c:438: boolean keyB6pressed=false;
	ld	-16 (ix), #0x00
;src\tarp.c:439: boolean keyB7pressed=false;
	ld	-15 (ix), #0x00
;src\tarp.c:440: boolean keyB8pressed=false;
	ld	-14 (ix), #0x00
;src\tarp.c:442: boolean joybool = false;
	ld	-13 (ix), #0x00
;src\tarp.c:443: boolean joytrigbool = false;
	ld	-12 (ix), #0x00
;src\tarp.c:448: char stone_step=0; //de 31
	ld	-4 (ix), #0x00
;src\tarp.c:453: char sdrum_step=31;
	ld	-3 (ix), #0x1f
;src\tarp.c:454: char sdrum_size=0;
	ld	-2 (ix), #0x00
;src\tarp.c:455: char sdrum_color=15;
	ld	-11 (ix), #0x0f
;src\tarp.c:466: _cursor_pos=0;
	ld	hl, #__cursor_pos
	ld	(hl), #0x00
;src\tarp.c:469: SetSpritesSize(1);    //16x16
	ld	a, #0x01
	call	_SetSpritesSize
;src\tarp.c:470: SetSpritesZoom(true); //zoom
	ld	a, #0x01
	call	_SetSpritesZoom
;src\tarp.c:472: setSprites();
	call	_setSprites
;src\tarp.c:478: setTileset();
	call	_setTileset
;src\tarp.c:480: if (VDP_type>0) SetPalette(1); //V9938 palette
	ld	a, (_VDP_type+0)
	or	a, a
	jr	Z, 00102$
	ld	a, #0x01
	call	_SetPalette
00102$:
;src\tarp.c:482: showMainScr();
	call	_showMainScr
;src\tarp.c:485: _ToneEnabled=true;
	ld	hl, #__ToneEnabled
	ld	(hl), #0x01
;src\tarp.c:486: _DrumEnabled=true;
	ld	hl, #__DrumEnabled
	ld	(hl), #0x01
;src\tarp.c:489: _playerHardware=0; //select internal AY
	ld	hl, #__playerHardware
	ld	(hl), #0x00
;src\tarp.c:490: _playerStatus=PLAYER_STOP;  
	ld	hl, #__playerStatus
	ld	(hl), #0x00
;src\tarp.c:492: _isDrumKitB = false;
	ld	hl, #__isDrumKitB
	ld	(hl), #0x00
;src\tarp.c:494: SetDrumKit(_isDrumKitB);    
	xor	a, a
	call	_SetDrumKit
;src\tarp.c:496: PlayerInit();
	call	_PlayerInit
;src\tarp.c:498: vumeterStep = _songSpeed;
	ld	a, (__songSpeed+0)
	ld	-1 (ix), a
;src\tarp.c:501: SetMixer(0,true,false);  //noise off
	xor	a, a
	push	af
	inc	sp
	ld	l, #0x01
;	spillPairReg hl
;	spillPairReg hl
	xor	a, a
	call	_SetMixer
;src\tarp.c:502: SetMixer(1,true,false);  //noise off
	xor	a, a
	push	af
	inc	sp
;	spillPairReg hl
;	spillPairReg hl
	ld	a,#0x01
	ld	l,a
	call	_SetMixer
;src\tarp.c:505: initGUI();
	call	_initGUI
;src\tarp.c:510: while(1)
00269$:
;src\tarp.c:512: HALT;
	halt	
;src\tarp.c:513: PlayAY(); //Dump values from RAM buffer to PSG (AY)
	call	_PlayAY
;src\tarp.c:517: if (_playerStatus==PLAYER_PLAY && _songSpeedStep==0) //control de tempo por ciclos de Vblank 
	ld	a, (__playerStatus+0)
	dec	a
	jr	NZ, 00108$
	ld	a, (__songSpeedStep+0)
	or	a, a
	jr	NZ, 00108$
;src\tarp.c:519: ShowSequenceCursor();               
	call	_ShowSequenceCursor
;src\tarp.c:522: if(_DrumEnabled==true)
	ld	hl, #__DrumEnabled
	bit	0, (hl)
	jr	Z, 00108$
;src\tarp.c:524: drum_type = _pattern->drum[_pattern_step];
	ld	hl, (__pattern)
	ld	-6 (ix), l
	ld	-5 (ix), h
	ld	a, -6 (ix)
	add	a, #0x05
	ld	-8 (ix), a
	ld	a, -5 (ix)
	adc	a, #0x00
	ld	-7 (ix), a
	ld	a, (__pattern_step+0)
	ld	-5 (ix), a
	add	a, -8 (ix)
	ld	-6 (ix), a
	ld	a, #0x00
	adc	a, -7 (ix)
	ld	-5 (ix), a
	ld	l, -6 (ix)
	ld	h, -5 (ix)
	ld	a, (hl)
	ld	c, a
;src\tarp.c:525: if(drum_type>0)
	or	a, a
	jr	Z, 00108$
;src\tarp.c:527: sdrum_size=7;
	ld	-2 (ix), #0x07
;src\tarp.c:528: sdrum_color=drumcolor[drum_type];
	ld	a, c
	add	a, #<(_drumcolor)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x00
	adc	a, #>(_drumcolor)
	ld	h, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, (hl)
	ld	-11 (ix), a
00108$:
;src\tarp.c:535: stone_size = AYREGS[8];
	ld	a, (#(_AYREGS + 8) + 0)
;src\tarp.c:536: stone_size = stone_size>>1;   // /2
	srl	a
;src\tarp.c:539: if (stone_size>0) stone_color = 15;
	ld	-5 (ix), a
	or	a, a
	jr	Z, 00111$
	ld	d, #0x0f
	jr	00112$
00111$:
;src\tarp.c:540: else stone_color = 14;
	ld	d, #0x0e
00112$:
;src\tarp.c:542: PUTSPRITE(0,xvalues[stone_step],yvalues[stone_step],stone_color,stone_size);
	ld	a, -4 (ix)
	add	a, #<(_yvalues)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x00
	adc	a, #>(_yvalues)
	ld	h, a
;	spillPairReg hl
;	spillPairReg hl
	ld	b, (hl)
	ld	a, -4 (ix)
	add	a, #<(_xvalues)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x00
	adc	a, #>(_xvalues)
	ld	h, a
	ld	l, (hl)
;	spillPairReg hl
	ld	a, -5 (ix)
	push	af
	inc	sp
	ld	e, b
	push	de
	xor	a, a
	call	_PUTSPRITE
;src\tarp.c:545: if (_DrumEnabled==false) sdrum_size=0;
	ld	hl, #__DrumEnabled
	bit	0, (hl)
	jr	NZ, 00114$
	ld	-2 (ix), #0x00
00114$:
;src\tarp.c:547: if (sdrum_size==0) sdrum_color=drumcolor[0];
	ld	a, -2 (ix)
	or	a, a
	jr	NZ, 00116$
	ld	bc, #_drumcolor+0
	ld	a, (bc)
	ld	-11 (ix), a
00116$:
;src\tarp.c:551: PUTSPRITE(1,xvalues[sdrum_step],yvalues[sdrum_step],sdrum_color,sdrum_size);
	ld	a, #<(_yvalues)
	add	a, -3 (ix)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #>(_yvalues)
	adc	a, #0x00
	ld	h, a
	ld	b, (hl)
	ld	a, #<(_xvalues)
	add	a, -3 (ix)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #>(_xvalues)
	adc	a, #0x00
	ld	h, a
	ld	l, (hl)
;	spillPairReg hl
	ld	d, -2 (ix)
	ld	e, -11 (ix)
	push	de
	push	bc
	inc	sp
	ld	a, #0x01
	call	_PUTSPRITE
;src\tarp.c:554: if (sdrum_size>0) sdrum_size--;
	ld	a, -2 (ix)
	or	a, a
	jr	Z, 00118$
	dec	-2 (ix)
00118$:
;src\tarp.c:556: if (vumeterStep>=_songSpeed-1)
	ld	a, (__songSpeed+0)
	ld	b, #0x00
	ld	c, a
	dec	bc
	ld	a, -1 (ix)
	ld	d, #0x00
	sub	a, c
	ld	a, d
	sbc	a, b
	jp	PO, 00849$
	xor	a, #0x80
00849$:
	jp	M, 00124$
;src\tarp.c:558: vumeterStep=0;
	ld	-1 (ix), #0x00
;src\tarp.c:560: stone_step++;
	inc	-4 (ix)
;src\tarp.c:561: if (stone_step>63) stone_step=0;
	ld	a, #0x3f
	sub	a, -4 (ix)
	jr	NC, 00120$
	ld	-4 (ix), #0x00
00120$:
;src\tarp.c:562: sdrum_step++;
	inc	-3 (ix)
;src\tarp.c:563: if (sdrum_step>63) sdrum_step=0;
	ld	a, #0x3f
	sub	a, -3 (ix)
	jr	NC, 00125$
	ld	-3 (ix), #0x00
	jr	00125$
00124$:
;src\tarp.c:564: }else vumeterStep++;
	inc	-1 (ix)
00125$:
;src\tarp.c:568: if (_playerStatus==PLAYER_PLAY) PlayerDecode();
	ld	a, (__playerStatus+0)
	dec	a
	jr	NZ, 00127$
	call	_PlayerDecode
00127$:
;src\tarp.c:571: joyval=STICK(0);
	xor	a, a
	call	_STICK
;src\tarp.c:572: if (joyval==0) joyval=STICK(1);
	ld	-7 (ix), a
	or	a, a
	jr	NZ, 00129$
	ld	a, #0x01
	call	_STICK
	ld	-7 (ix), a
00129$:
;src\tarp.c:573: if (joyval==0) joyval=STICK(2);
	ld	a, -7 (ix)
	or	a, a
	jr	NZ, 00131$
	ld	a, #0x02
	call	_STICK
	ld	-7 (ix), a
00131$:
;src\tarp.c:574: if (joyval>0)
	ld	a, -7 (ix)
	or	a, a
	jp	Z, 00177$
;src\tarp.c:576: if (joybool==false)
	bit	0, -13 (ix)
	jp	NZ, 00178$
;src\tarp.c:578: joybool = true;
	ld	-13 (ix), #0x01
;src\tarp.c:579: VPOKE(vaddr_cursor[_cursor_pos],32);       
	ld	a, (__cursor_pos+0)
	ld	-6 (ix), a
	rlca
	sbc	a, a
	ld	-5 (ix), a
	ld	a, -6 (ix)
	ld	-9 (ix), a
	ld	a, -5 (ix)
	ld	-8 (ix), a
	sla	-9 (ix)
	rl	-8 (ix)
	ld	a, #<(_vaddr_cursor)
	add	a, -9 (ix)
	ld	-6 (ix), a
	ld	a, #>(_vaddr_cursor)
	adc	a, -8 (ix)
	ld	-5 (ix), a
	ld	l, -6 (ix)
	ld	h, -5 (ix)
	ld	a, (hl)
	ld	-6 (ix), a
	inc	hl
	ld	a, (hl)
	ld	-5 (ix), a
	ld	a, #0x20
	push	af
	inc	sp
	ld	l, -6 (ix)
;	spillPairReg hl
;	spillPairReg hl
	ld	h, -5 (ix)
;	spillPairReg hl
;	spillPairReg hl
	call	_VPOKE
;src\tarp.c:581: if(joyval==1) // arriba
	ld	a, -7 (ix)
	dec	a
	jr	NZ, 00135$
;src\tarp.c:583: _cursor_pos--;
	ld	iy, #__cursor_pos
	dec	0 (iy)
;src\tarp.c:584: if(_cursor_pos<0) _cursor_pos=OPTIONS_SIZE; 
	ld	a, (__cursor_pos+0)
	bit	7, a
	jr	Z, 00135$
	ld	0 (iy), #0x11
00135$:
;src\tarp.c:586: if(joyval==5) // abajo
	ld	a, -7 (ix)
	sub	a, #0x05
	jr	NZ, 00139$
;src\tarp.c:588: _cursor_pos++;
	ld	iy, #__cursor_pos
	inc	0 (iy)
;src\tarp.c:589: if(_cursor_pos>OPTIONS_SIZE) _cursor_pos=0;
	ld	a, #0x11
	sub	a, 0 (iy)
	jp	PO, 00857$
	xor	a, #0x80
00857$:
	jp	P, 00139$
	ld	hl, #__cursor_pos
	ld	(hl), #0x00
00139$:
;src\tarp.c:591: if(joyval==3) // right
	ld	a, -7 (ix)
	sub	a, #0x03
	jp	NZ,00156$
;src\tarp.c:593: switch (_cursor_pos)   //{0x1841,0x1901,0x19A1,0x19C1,0x1A01,0x1A21,0x1A41,0x1A81,0x1AA1};
	ld	a,(__cursor_pos+0)
	cp	a,#0x03
	jr	Z, 00140$
	cp	a,#0x05
	jr	Z, 00141$
	cp	a,#0x08
	jr	Z, 00144$
	cp	a,#0x0b
	jr	Z, 00145$
	cp	a,#0x0c
	jr	Z, 00146$
	cp	a,#0x0d
	jr	Z, 00147$
	cp	a,#0x0e
	jp	Z,00151$
	cp	a,#0x0f
	jp	Z,00152$
	sub	a, #0x10
	jp	Z,00153$
	jp	00156$
;src\tarp.c:595: case 3:    //set pattern B
00140$:
;src\tarp.c:596: SetPattern(PATTERN_B);
	ld	a, #0x01
	call	_SetPattern
;src\tarp.c:597: ShowPattern();
	call	_ShowPattern
;src\tarp.c:598: break;
	jp	00156$
;src\tarp.c:600: case 5: //tempo
00141$:
;src\tarp.c:601: if (_songSpeed<9) _songSpeed++;                
	ld	a, (__songSpeed+0)
	sub	a, #0x09
	jr	NC, 00143$
	ld	hl, #__songSpeed
	inc	(hl)
00143$:
;src\tarp.c:602: VPrintNum(GUI_TEMPO_VADDR, _songSpeed, 1);
	ld	a, (__songSpeed+0)
	ld	e, a
	ld	d, #0x00
	ld	a, #0x01
	push	af
	inc	sp
	ld	hl, #0x18c8
	call	_VPrintNum
;src\tarp.c:603: break;
	jr	00156$
;src\tarp.c:605: case 8: //Drum KIT Switcher
00144$:
;src\tarp.c:606: _isDrumKitB=true;
	ld	hl, #__isDrumKitB
;src\tarp.c:607: SetDrumKit(_isDrumKitB);
	ld	a,#0x01
	ld	(hl),a
	call	_SetDrumKit
;src\tarp.c:608: GUI_switcher(GUI_DKIT_VADDR,true); 
	ld	a, #0x01
	push	af
	inc	sp
	ld	hl, #0x1949
	call	_GUI_switcher
;src\tarp.c:609: break;
	jr	00156$
;src\tarp.c:611: case 11: //A+B
00145$:
;src\tarp.c:612: _pattern->AB_MIX=true;
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	ld	(hl), #0x01
;src\tarp.c:613: showABmix(); 
	call	_showABmix
;src\tarp.c:614: break;
	jr	00156$
;src\tarp.c:616: case 12: //B offset
00146$:
;src\tarp.c:617: _pattern->AB_offset++;              
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	inc	(hl)
;src\tarp.c:618: showABoffset(); 
	call	_showABoffset
;src\tarp.c:619: break;
	jr	00156$
;src\tarp.c:621: case 13: //envelope wave
00147$:
;src\tarp.c:622: if (_pattern->Envelope<7) _pattern->Envelope++;
	ld	iy, (__pattern)
	ld	a, 4 (iy)
	sub	a, #0x07
	jr	NC, 00149$
	ld	hl, (__pattern)
	ld	bc, #0x0004
	add	hl, bc
	inc	(hl)
	jr	00150$
00149$:
;src\tarp.c:623: else _pattern->Envelope=0;
	ld	hl, (__pattern)
	ld	bc, #0x0004
	add	hl, bc
	ld	(hl), #0x00
00150$:
;src\tarp.c:624: showEnv(); 
	call	_showEnv
;src\tarp.c:625: break;
	jr	00156$
;src\tarp.c:627: case 14: //loop Switcher
00151$:
;src\tarp.c:628: envelope_list[_pattern->Envelope].isLoop=true;
	ld	hl, (__pattern)
	ld	de, #0x0004
	add	hl, de
	ld	c, (hl)
	ld	b, #0x00
	ld	l, c
	ld	h, b
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, bc
	ld	de, #_envelope_list
	add	hl, de
;src\tarp.c:629: GUI_switcher(GUI_ENVLOOP_VADDR,true);
	ld	a,#0x01
	ld	(hl),a
	push	af
	inc	sp
	ld	hl, #0x1a29
	call	_GUI_switcher
;src\tarp.c:630: break;
	jr	00156$
;src\tarp.c:632: case 15: // _octave +
00152$:
;src\tarp.c:633: downOctave(); 
	call	_downOctave
;src\tarp.c:634: break;
	jr	00156$
;src\tarp.c:636: case 16:
00153$:
;src\tarp.c:637: TransposeUp(); 
	call	_TransposeUp
;src\tarp.c:639: }//END switch
00156$:
;src\tarp.c:642: if(joyval==7) // left
	ld	a, -7 (ix)
	sub	a, #0x07
	jp	NZ,00173$
;src\tarp.c:644: switch (_cursor_pos) 
	ld	a,(__cursor_pos+0)
	cp	a,#0x03
	jr	Z, 00157$
	cp	a,#0x05
	jr	Z, 00158$
	cp	a,#0x08
	jr	Z, 00161$
	cp	a,#0x0b
	jr	Z, 00162$
	cp	a,#0x0c
	jr	Z, 00163$
	cp	a,#0x0d
	jr	Z, 00164$
	cp	a,#0x0e
	jp	Z,00168$
	cp	a,#0x0f
	jp	Z,00169$
	sub	a, #0x10
	jp	Z,00170$
	jp	00173$
;src\tarp.c:646: case 3:    //set pattern A
00157$:
;src\tarp.c:647: SetPattern(PATTERN_A);
	xor	a, a
	call	_SetPattern
;src\tarp.c:648: ShowPattern();
	call	_ShowPattern
;src\tarp.c:649: break;
	jp	00173$
;src\tarp.c:651: case 5:
00158$:
;src\tarp.c:652: if (_songSpeed>1) _songSpeed--;                
	ld	a, #0x01
	ld	iy, #__songSpeed
	sub	a, 0 (iy)
	jr	NC, 00160$
	dec	0 (iy)
00160$:
;src\tarp.c:653: VPrintNum(GUI_TEMPO_VADDR, _songSpeed, 1); 
	ld	a, (__songSpeed+0)
	ld	e, a
	ld	d, #0x00
	ld	a, #0x01
	push	af
	inc	sp
	ld	hl, #0x18c8
	call	_VPrintNum
;src\tarp.c:654: break;
	jr	00173$
;src\tarp.c:656: case 8:
00161$:
;src\tarp.c:657: _isDrumKitB=false;
	ld	hl, #__isDrumKitB
	ld	(hl), #0x00
;src\tarp.c:658: SetDrumKit(_isDrumKitB);
	xor	a, a
	call	_SetDrumKit
;src\tarp.c:659: GUI_switcher(GUI_DKIT_VADDR,false); 
	xor	a, a
	push	af
	inc	sp
	ld	hl, #0x1949
	call	_GUI_switcher
;src\tarp.c:660: break;
	jr	00173$
;src\tarp.c:662: case 11:
00162$:
;src\tarp.c:663: _pattern->AB_MIX=false;
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	ld	(hl), #0x00
;src\tarp.c:664: showABmix(); 
	call	_showABmix
;src\tarp.c:665: break;
	jr	00173$
;src\tarp.c:667: case 12:
00163$:
;src\tarp.c:668: _pattern->AB_offset--;                
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	dec	(hl)
;src\tarp.c:669: showABoffset(); 
	call	_showABoffset
;src\tarp.c:670: break;
	jr	00173$
;src\tarp.c:672: case 13:
00164$:
;src\tarp.c:673: if (_pattern->Envelope>0) _pattern->Envelope--;
	ld	iy, (__pattern)
	ld	a, 4 (iy)
	or	a, a
	jr	Z, 00166$
	ld	hl, (__pattern)
	ld	bc, #0x0004
	add	hl, bc
	dec	(hl)
	jr	00167$
00166$:
;src\tarp.c:674: else _pattern->Envelope=7;
	ld	hl, (__pattern)
	ld	bc, #0x0004
	add	hl, bc
	ld	(hl), #0x07
00167$:
;src\tarp.c:675: showEnv(); 
	call	_showEnv
;src\tarp.c:676: break;
	jr	00173$
;src\tarp.c:678: case 14:
00168$:
;src\tarp.c:679: envelope_list[_pattern->Envelope].isLoop=false;
	ld	bc, #_envelope_list+0
	ld	iy, (__pattern)
	ld	e, 4 (iy)
	ld	d, #0x00
	ld	l, e
	ld	h, d
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, de
	add	hl, bc
	ld	(hl), #0x00
;src\tarp.c:680: GUI_switcher(GUI_ENVLOOP_VADDR,false); 
	xor	a, a
	push	af
	inc	sp
	ld	hl, #0x1a29
	call	_GUI_switcher
;src\tarp.c:681: break;
	jr	00173$
;src\tarp.c:683: case 15: //_octave -
00169$:
;src\tarp.c:684: upOctave();
	call	_upOctave
;src\tarp.c:685: break;
	jr	00173$
;src\tarp.c:687: case 16:
00170$:
;src\tarp.c:688: TransposeDown(); 
	call	_TransposeDown
;src\tarp.c:690: }//END switch
00173$:
;src\tarp.c:692: VPOKE(vaddr_cursor[_cursor_pos],GUI_CURSOR);
	ld	a, (__cursor_pos+0)
	ld	-6 (ix), a
	rlca
	sbc	a, a
	ld	-5 (ix), a
	ld	a, -6 (ix)
	ld	-8 (ix), a
	ld	a, -5 (ix)
	ld	-7 (ix), a
	sla	-8 (ix)
	rl	-7 (ix)
	ld	a, #<(_vaddr_cursor)
	add	a, -8 (ix)
	ld	-6 (ix), a
	ld	a, #>(_vaddr_cursor)
	adc	a, -7 (ix)
	ld	-5 (ix), a
	ld	l, -6 (ix)
	ld	h, -5 (ix)
	ld	a, (hl)
	ld	-6 (ix), a
	inc	hl
	ld	a, (hl)
	ld	-5 (ix), a
	ld	a, #0x80
	push	af
	inc	sp
	ld	l, -6 (ix)
;	spillPairReg hl
;	spillPairReg hl
	ld	h, -5 (ix)
;	spillPairReg hl
;	spillPairReg hl
	call	_VPOKE
	jr	00178$
00177$:
;src\tarp.c:694: }else joybool = false;
	ld	-13 (ix), #0x00
00178$:
;src\tarp.c:697: joytrig = STRIG(0);       
	xor	a, a
	call	_STRIG
;src\tarp.c:698: if (joytrig==0) joytrig=STRIG(1);
	ld	-5 (ix), a
	or	a, a
	jr	NZ, 00180$
	ld	a, #0x01
	call	_STRIG
	ld	-5 (ix), a
00180$:
;src\tarp.c:699: if (joytrig==0) joytrig=STRIG(2);
	ld	a, -5 (ix)
	or	a, a
	jr	NZ, 00182$
	ld	a, #0x02
	call	_STRIG
	ld	-5 (ix), a
00182$:
;src\tarp.c:700: if (joytrig>0)
	ld	a, -5 (ix)
	or	a, a
	jp	Z, 00203$
;src\tarp.c:702: if (joytrigbool==false)
	bit	0, -12 (ix)
	jp	NZ, 00204$
;src\tarp.c:704: joytrigbool = true;
	ld	-12 (ix), #0x01
;src\tarp.c:706: switch (_cursor_pos) 
	ld	a, (__cursor_pos+0)
	bit	7, a
	jp	NZ, 00204$
	ld	a, #0x11
	ld	hl, #__cursor_pos
	sub	a, (hl)
	jp	PO, 00881$
	xor	a, #0x80
00881$:
	jp	M, 00204$
	ld	iy, #__cursor_pos
	ld	c, 0 (iy)
	ld	b, #0x00
	ld	hl, #00882$
	add	hl, bc
	add	hl, bc
	add	hl, bc
	jp	(hl)
00882$:
	jp	00183$
	jp	00184$
	jp	00185$
	jp	00189$
	jp	00190$
	jp	00204$
	jp	00191$
	jp	00192$
	jp	00193$
	jp	00194$
	jp	00195$
	jp	00196$
	jp	00204$
	jp	00204$
	jp	00197$
	jp	00204$
	jp	00204$
	jp	00198$
;src\tarp.c:708: case 0:    //audio on/off
00183$:
;src\tarp.c:709: PlaySomething(); 
	call	_PlaySomething
;src\tarp.c:710: break;
	jp	00204$
;src\tarp.c:712: case 1:    //random All
00184$:
;src\tarp.c:713: genDrumPattern();
	call	_genDrumPattern
;src\tarp.c:714: genTonePattern(); 
	call	_genTonePattern
;src\tarp.c:715: break;
	jp	00204$
;src\tarp.c:717: case 2:    //Play
00185$:
;src\tarp.c:718: if(_playerStatus==PLAYER_STOP) Play();
	ld	a, (__playerStatus+0)
	or	a, a
	jr	NZ, 00187$
	call	_Play
	jp	00204$
00187$:
;src\tarp.c:719: else Stop(); 
	call	_Stop
;src\tarp.c:720: break;
	jp	00204$
;src\tarp.c:722: case 3:    //
00189$:
;src\tarp.c:723: ChangePattern();
	call	_ChangePattern
;src\tarp.c:724: ShowPattern();
	call	_ShowPattern
;src\tarp.c:725: break;
	jp	00204$
;src\tarp.c:727: case 4:    //copy current pattern to other (A->B;B->A)
00190$:
;src\tarp.c:728: CopyPattern();
	call	_CopyPattern
;src\tarp.c:729: break;   
	jp	00204$
;src\tarp.c:731: case 6:    //Rhythm channel On/Off
00191$:
;src\tarp.c:732: invertDrumChannel();
	call	_invertDrumChannel
;src\tarp.c:733: break;
	jp	00204$
;src\tarp.c:735: case 7:    //random Rhithm
00192$:
;src\tarp.c:736: genDrumPattern(); 
	call	_genDrumPattern
;src\tarp.c:737: break;
	jp	00204$
;src\tarp.c:739: case 8:
00193$:
;src\tarp.c:740: _isDrumKitB= !_isDrumKitB;
	ld	a, (__isDrumKitB+0)
	sub	a, #0x01
	ld	a, #0x00
	rla
	ld	-5 (ix), a
	ld	(__isDrumKitB+0), a
;src\tarp.c:741: SetDrumKit(_isDrumKitB);
	xor	a, a
	ld	iy, #__isDrumKitB
	cp	a, 0 (iy)
	rla
	call	_SetDrumKit
;src\tarp.c:742: GUI_switcher(GUI_DKIT_VADDR,_isDrumKitB); 
	xor	a, a
	ld	iy, #__isDrumKitB
	cp	a, 0 (iy)
	rla
	push	af
	inc	sp
	ld	hl, #0x1949
	call	_GUI_switcher
;src\tarp.c:743: break;
	jp	00204$
;src\tarp.c:745: case 9:    //Melody channel On/Off
00194$:
;src\tarp.c:746: invertToneChannel();
	call	_invertToneChannel
;src\tarp.c:747: break;
	jp	00204$
;src\tarp.c:749: case 10:    //random Melody
00195$:
;src\tarp.c:750: genTonePattern(); 
	call	_genTonePattern
;src\tarp.c:751: break;
	jp	00204$
;src\tarp.c:753: case 11:
00196$:
;src\tarp.c:754: _pattern->AB_MIX=!_pattern->AB_MIX;
	ld	hl, (__pattern)
	ld	-6 (ix), l
	ld	-5 (ix), h
	ld	a, -6 (ix)
	add	a, #0x02
	ld	-8 (ix), a
	ld	a, -5 (ix)
	adc	a, #0x00
	ld	-7 (ix), a
	ld	hl, (__pattern)
	ld	-6 (ix), l
	ld	-5 (ix), h
	inc	hl
	inc	hl
	ld	a, (hl)
	ld	-5 (ix), a
	xor	a, #0x01
	ld	l, -8 (ix)
	ld	h, -7 (ix)
	ld	(hl), a
;src\tarp.c:755: showABmix(); 
	call	_showABmix
;src\tarp.c:756: break;
	jp	00204$
;src\tarp.c:766: case 14:
00197$:
;src\tarp.c:768: envelope_list[_pattern->Envelope].isLoop=!envelope_list[_pattern->Envelope].isLoop;
	ld	hl, (__pattern)
	ld	-6 (ix), l
	ld	-5 (ix), h
	ld	de, #0x0004
	add	hl, de
	ld	a, (hl)
	ld	-5 (ix), a
	ld	c, a
	ld	b, #0x00
	ld	l, c
	ld	h, b
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, bc
	ld	-6 (ix), l
	ld	-5 (ix), h
	ld	a, #<(_envelope_list)
	add	a, -6 (ix)
	ld	-10 (ix), a
	ld	a, #>(_envelope_list)
	adc	a, -5 (ix)
	ld	-9 (ix), a
	ld	hl, (__pattern)
	ld	-6 (ix), l
	ld	-5 (ix), h
	ld	de, #0x0004
	add	hl, de
	ld	a, (hl)
	ld	-5 (ix), a
	ld	c, a
	ld	b, #0x00
	ld	l, c
	ld	h, b
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, bc
	ld	-8 (ix), l
	ld	-7 (ix), h
	ld	a, #<(_envelope_list)
	add	a, -8 (ix)
	ld	-6 (ix), a
	ld	a, #>(_envelope_list)
	adc	a, -7 (ix)
	ld	-5 (ix), a
	ld	l, -6 (ix)
	ld	h, -5 (ix)
	ld	a, (hl)
	xor	a, #0x01
	ld	l, -10 (ix)
	ld	h, -9 (ix)
	ld	(hl), a
;src\tarp.c:769: GUI_switcher(GUI_ENVLOOP_VADDR,envelope_list[_pattern->Envelope].isLoop); 
	ld	hl, (__pattern)
	ld	-6 (ix), l
	ld	-5 (ix), h
	ld	de, #0x0004
	add	hl, de
	ld	a, (hl)
	ld	-5 (ix), a
	ld	c, a
	ld	b, #0x00
	ld	l, c
	ld	h, b
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, bc
	ld	-8 (ix), l
	ld	-7 (ix), h
	ld	a, #<(_envelope_list)
	add	a, -8 (ix)
	ld	-6 (ix), a
	ld	a, #>(_envelope_list)
	adc	a, -7 (ix)
	ld	-5 (ix), a
	ld	l, -6 (ix)
	ld	h, -5 (ix)
	ld	a, (hl)
	push	af
	inc	sp
	ld	hl, #0x1a29
	call	_GUI_switcher
;src\tarp.c:770: break;
	jr	00204$
;src\tarp.c:777: case 17:
00198$:
;src\tarp.c:778: Help();
	call	_Help
;src\tarp.c:781: }
	jr	00204$
00203$:
;src\tarp.c:783: }else joytrigbool = false;
	ld	-12 (ix), #0x00
00204$:
;src\tarp.c:789: keyPressed = GetKeyMatrix(0);
	xor	a, a
	call	_GetKeyMatrix
;src\tarp.c:790: if (keyPressed!=0xFF)
	ld	c, a
	inc	a
	jr	Z, 00216$
;src\tarp.c:792: if(keyB0pressed==false)
	bit	0, -18 (ix)
	jr	NZ, 00217$
;src\tarp.c:795: if (!(keyPressed&Bit1)) {SetPatternLenght(1);keyB0pressed=true;}; // 1 
	bit	1, c
	jr	NZ, 00206$
	push	bc
	ld	a, #0x01
	call	_SetPatternLenght
	pop	bc
	ld	-18 (ix), #0x01
00206$:
;src\tarp.c:796: if (!(keyPressed&Bit2)) {SetPatternLenght(3);keyB0pressed=true;}; // 2
	bit	2, c
	jr	NZ, 00208$
	push	bc
	ld	a, #0x03
	call	_SetPatternLenght
	pop	bc
	ld	-18 (ix), #0x01
00208$:
;src\tarp.c:797: if (!(keyPressed&Bit3)) {SetPatternLenght(7);keyB0pressed=true;}; // 3
	bit	3, c
	jr	NZ, 00210$
	push	bc
	ld	a, #0x07
	call	_SetPatternLenght
	pop	bc
	ld	-18 (ix), #0x01
00210$:
;src\tarp.c:798: if (!(keyPressed&Bit4)) {SetPatternLenght(15);keyB0pressed=true;}; // 4
	bit	4, c
	jr	NZ, 00217$
	ld	a, #0x0f
	call	_SetPatternLenght
	ld	-18 (ix), #0x01
	jr	00217$
00216$:
;src\tarp.c:803: }else keyB0pressed=false;
	ld	-18 (ix), #0x00
00217$:
;src\tarp.c:807: keyPressed = GetKeyMatrix(2);
	ld	a, #0x02
	call	_GetKeyMatrix
;src\tarp.c:808: if (keyPressed!=0xFF)
	ld	c, a
	inc	a
	jr	Z, 00225$
;src\tarp.c:810: if(keyB2pressed==false)
	bit	0, -17 (ix)
	jr	NZ, 00226$
;src\tarp.c:814: if (!(keyPressed&Bit2)) {TransposeDown();keyB2pressed=true;}; // ,/<
	bit	2, c
	jr	NZ, 00219$
	push	bc
	call	_TransposeDown
	pop	bc
	ld	-17 (ix), #0x01
00219$:
;src\tarp.c:815: if (!(keyPressed&Bit3)) {TransposeUp();keyB2pressed=true;};   // ./>
	bit	3, c
	jr	NZ, 00226$
	call	_TransposeUp
	ld	-17 (ix), #0x01
	jr	00226$
00225$:
;src\tarp.c:821: }else keyB2pressed=false;
	ld	-17 (ix), #0x00
00226$:
;src\tarp.c:825: keyPressed = GetKeyMatrix(6);
	ld	a, #0x06
	call	_GetKeyMatrix
;src\tarp.c:826: if (keyPressed!=0xFF)
	ld	c, a
	inc	a
	jr	Z, 00240$
;src\tarp.c:828: if(keyB6pressed==false)
	bit	0, -16 (ix)
	jr	NZ, 00241$
;src\tarp.c:830: if (!(keyPressed&Bit0)) {genTonePattern();keyB6pressed=true;}; // SHIFT
	bit	0, c
	jr	NZ, 00228$
	push	bc
	call	_genTonePattern
	pop	bc
	ld	-16 (ix), #0x01
00228$:
;src\tarp.c:831: if (!(keyPressed&Bit1)) {genDrumPattern();keyB6pressed=true;};// CTRL
	bit	1, c
	jr	NZ, 00230$
	push	bc
	call	_genDrumPattern
	pop	bc
	ld	-16 (ix), #0x01
00230$:
;src\tarp.c:832: if (!(keyPressed&Bit2)) {CopyPattern();keyB6pressed=true;};   // GRAPH
	bit	2, c
	jr	NZ, 00232$
	push	bc
	call	_CopyPattern
	pop	bc
	ld	-16 (ix), #0x01
00232$:
;src\tarp.c:835: if (!(keyPressed&Bit5)) {invertDrumChannel();keyB6pressed=true;}; // F1
	bit	5, c
	jr	NZ, 00234$
	push	bc
	call	_invertDrumChannel
	pop	bc
	ld	-16 (ix), #0x01
00234$:
;src\tarp.c:836: if (!(keyPressed&Bit6)) {invertToneChannel();keyB6pressed=true;}; // F2
	bit	6, c
	jr	NZ, 00241$
	call	_invertToneChannel
	ld	-16 (ix), #0x01
	jr	00241$
00240$:
;src\tarp.c:839: }else keyB6pressed=false;
	ld	-16 (ix), #0x00
00241$:
;src\tarp.c:844: keyPressed = GetKeyMatrix(7);
	ld	a, #0x07
	call	_GetKeyMatrix
;src\tarp.c:845: if (keyPressed!=0xFF)
	ld	-5 (ix), a
	inc	a
	jr	Z, 00255$
;src\tarp.c:847: if(keyB7pressed==false)
	bit	0, -15 (ix)
	jr	NZ, 00256$
;src\tarp.c:852: if (!(keyPressed&Bit3)) {
	bit	3, -5 (ix)
	jr	NZ, 00243$
;src\tarp.c:854: genDrumPattern();
	call	_genDrumPattern
;src\tarp.c:855: genTonePattern();
	call	_genTonePattern
;src\tarp.c:856: keyB7pressed=true;
	ld	-15 (ix), #0x01
00243$:
;src\tarp.c:858: if (!(keyPressed&Bit4)) {Stop();keyB7pressed=true;}; // STOP
	bit	4, -5 (ix)
	jr	NZ, 00245$
	call	_Stop
	ld	-15 (ix), #0x01
00245$:
;src\tarp.c:859: if (!(keyPressed&Bit5)) {
	bit	5, -5 (ix)
	jr	NZ, 00247$
;src\tarp.c:860: ChangePattern();  
	call	_ChangePattern
;src\tarp.c:861: ShowPattern();
	call	_ShowPattern
;src\tarp.c:862: keyB7pressed=true;
	ld	-15 (ix), #0x01
00247$:
;src\tarp.c:864: if (!(keyPressed&Bit6)) 
	bit	6, -5 (ix)
	jr	NZ, 00249$
;src\tarp.c:866: _isDrumKitB=!_isDrumKitB;
	ld	a, (__isDrumKitB+0)
	sub	a, #0x01
	ld	a, #0x00
	rla
	ld	(__isDrumKitB+0), a
;src\tarp.c:867: SetDrumKit(_isDrumKitB);
	xor	a, a
	ld	iy, #__isDrumKitB
	cp	a, 0 (iy)
	rla
	call	_SetDrumKit
;src\tarp.c:868: GUI_switcher(GUI_DKIT_VADDR,_isDrumKitB);
	xor	a, a
	ld	iy, #__isDrumKitB
	cp	a, 0 (iy)
	rla
	push	af
	inc	sp
	ld	hl, #0x1949
	call	_GUI_switcher
;src\tarp.c:869: keyB7pressed=true;
	ld	-15 (ix), #0x01
00249$:
;src\tarp.c:871: if (!(keyPressed&Bit7)) {Play();keyB7pressed=true;}; // RETURN
	bit	7, -5 (ix)
	jr	NZ, 00256$
	call	_Play
	ld	-15 (ix), #0x01
	jr	00256$
00255$:
;src\tarp.c:873: }else keyB7pressed=false;
	ld	-15 (ix), #0x00
00256$:
;src\tarp.c:876: keyPressed = GetKeyMatrix(8);
	ld	a, #0x08
	call	_GetKeyMatrix
;src\tarp.c:877: if (keyPressed!=0xFF)
	ld	c, a
	inc	a
	jr	Z, 00266$
;src\tarp.c:879: if(keyB8pressed==false)
	bit	0, -14 (ix)
	jp	NZ, 00269$
;src\tarp.c:882: if (!(keyPressed&Bit1)) {Help();keyB8pressed=true;}; // Home
	bit	1, c
	jr	NZ, 00258$
	push	bc
	call	_Help
	pop	bc
	ld	-14 (ix), #0x01
00258$:
;src\tarp.c:883: if (!(keyPressed&Bit2)) {upOctave();keyB8pressed=true;}; // Ins
	bit	2, c
	jr	NZ, 00260$
	push	bc
	call	_upOctave
	pop	bc
	ld	-14 (ix), #0x01
00260$:
;src\tarp.c:884: if (!(keyPressed&Bit3)) {downOctave();keyB8pressed=true;}; // Del
	bit	3, c
	jp	NZ,00269$
	call	_downOctave
	ld	-14 (ix), #0x01
	jp	00269$
00266$:
;src\tarp.c:890: }else keyB8pressed=false;      
	ld	-14 (ix), #0x00
;src\tarp.c:894: }
	jp	00269$
;src\tarp.c:898: void Help(void)
;	---------------------------------
; Function Help
; ---------------------------------
_Help::
	push	ix
	ld	ix,#0
	add	ix,sp
	push	af
	push	af
;src\tarp.c:900: boolean isExit = false;
	ld	-4 (ix), #0x00
;src\tarp.c:902: boolean joybool = false;
	ld	-3 (ix), #0x00
;src\tarp.c:903: boolean joytrigbool = true;
	ld	-2 (ix), #0x01
;src\tarp.c:907: char helpLinePos=0;
	ld	-1 (ix), #0x00
;src\tarp.c:912: SetSpriteVisible(0,false);
;	spillPairReg hl
;	spillPairReg hl
	xor	a, a
	ld	l, a
	call	_SetSpriteVisible
;src\tarp.c:913: SetSpriteVisible(1,false);
	ld	l, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x01
	call	_SetSpriteVisible
;src\tarp.c:917: if (VDP_type>0) SetPalette(2);
	ld	a, (_VDP_type+0)
	or	a, a
	jr	Z, 00102$
	ld	a, #0x02
	call	_SetPalette
00102$:
;src\tarp.c:919: showHelpScr();
	call	_showHelpScr
;src\tarp.c:921: VPRINT(23,1,app_version);
	ld	hl, #_app_version
	push	hl
	ld	l, #0x01
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x17
	call	_VPRINT
;src\tarp.c:924: HALT;
	halt	
;src\tarp.c:925: PlayAY(); //Dump values from RAM buffer to PSG (AY)
	call	_PlayAY
;src\tarp.c:926: if (_playerStatus==PLAYER_PLAY) PlayerDecode();
	ld	a, (__playerStatus+0)
	dec	a
	jr	NZ, 00104$
	call	_PlayerDecode
00104$:
;src\tarp.c:928: showHelpText(0);
	xor	a, a
	call	_showHelpText
;src\tarp.c:929: showScrollbar(0);
	xor	a, a
	call	_showScrollbar
;src\tarp.c:935: while(isExit==false)
00133$:
	bit	0, -4 (ix)
	jp	NZ, 00135$
;src\tarp.c:937: HALT;
	halt	
;src\tarp.c:938: PlayAY(); //Dump values from RAM buffer to PSG (AY)
	call	_PlayAY
;src\tarp.c:940: if (_playerStatus==PLAYER_PLAY) PlayerDecode();
	ld	a, (__playerStatus+0)
	dec	a
	jr	NZ, 00106$
	call	_PlayerDecode
00106$:
;src\tarp.c:942: joytrig=STRIG(1);
	ld	a, #0x01
	call	_STRIG
	ld	c, a
;src\tarp.c:943: if (joytrig==0) joytrig=STRIG(2);
	or	a, a
	jr	NZ, 00108$
	ld	a, #0x02
	call	_STRIG
	ld	c, a
00108$:
;src\tarp.c:944: if (joytrig>0)
	ld	a, c
	or	a, a
	jr	Z, 00112$
;src\tarp.c:946: if (joytrigbool==false) isExit=true;
	bit	0, -2 (ix)
	jr	NZ, 00113$
	ld	-4 (ix), #0x01
	jr	00113$
00112$:
;src\tarp.c:947: }else joytrigbool = false;
	ld	-2 (ix), #0x00
00113$:
;src\tarp.c:950: if (!(GetKeyMatrix(7)&Bit2)) isExit=true; // ESC
	ld	a, #0x07
	call	_GetKeyMatrix
	bit	2, a
	jr	NZ, 00115$
	ld	-4 (ix), #0x01
00115$:
;src\tarp.c:952: joyval=STICK(0);
	xor	a, a
	call	_STICK
;src\tarp.c:953: if (joyval==0) joyval=STICK(1);
	ld	c, a
	or	a, a
	jr	NZ, 00117$
	ld	a, #0x01
	call	_STICK
	ld	c, a
00117$:
;src\tarp.c:954: if (joyval==0) joyval=STICK(2);
	ld	a, c
	or	a, a
	jr	NZ, 00119$
	ld	a, #0x02
	call	_STICK
	ld	c, a
00119$:
;src\tarp.c:955: if (joyval>0)
	ld	a, c
	or	a, a
	jr	Z, 00131$
;src\tarp.c:957: if (joybool==false)
	bit	0, -3 (ix)
	jr	NZ, 00133$
;src\tarp.c:959: joybool = true;
	ld	-3 (ix), #0x01
;src\tarp.c:961: if(joyval==1) // arriba
	ld	a, c
	dec	a
	jr	NZ, 00123$
;src\tarp.c:963: if(helpLinePos>0) 
	ld	a, -1 (ix)
	or	a, a
	jr	Z, 00123$
;src\tarp.c:965: helpLinePos--;
	dec	-1 (ix)
;src\tarp.c:966: showHelpText(helpLinePos);
	push	bc
	ld	a, -1 (ix)
	call	_showHelpText
	ld	a, -1 (ix)
	call	_showScrollbar
	pop	bc
00123$:
;src\tarp.c:970: if(joyval==5) // abajo
	ld	a, c
	sub	a, #0x05
	jp	NZ,00133$
;src\tarp.c:972: if(helpLinePos<(HELP_LINES-20)) 
	ld	a, -1 (ix)
	sub	a, #0x10
	jp	NC, 00133$
;src\tarp.c:974: helpLinePos++;
	inc	-1 (ix)
;src\tarp.c:975: showHelpText(helpLinePos);
	ld	a, -1 (ix)
	call	_showHelpText
;src\tarp.c:976: showScrollbar(helpLinePos);
	ld	a, -1 (ix)
	call	_showScrollbar
	jp	00133$
00131$:
;src\tarp.c:982: }else joybool = false;
	ld	-3 (ix), #0x00
	jp	00133$
00135$:
;src\tarp.c:987: if (VDP_type>0) SetPalette(1);
	ld	a, (_VDP_type+0)
	or	a, a
	jr	Z, 00137$
	ld	a, #0x01
	call	_SetPalette
00137$:
;src\tarp.c:988: showMainScr();
	call	_showMainScr
;src\tarp.c:989: initGUI();
	call	_initGUI
;src\tarp.c:991: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:998: void checkMSX(void) 
;	---------------------------------
; Function checkMSX
; ---------------------------------
_checkMSX::
;src\tarp.c:1003: VDP_type = PEEK(0x2D);
	ld	hl, #0x002d
	call	_PEEK
	ld	(_VDP_type+0), a
;src\tarp.c:1019: }
	ret
;src\tarp.c:1023: void initGUI(void)
;	---------------------------------
; Function initGUI
; ---------------------------------
_initGUI::
;src\tarp.c:1025: VPrintNum(GUI_TEMPO_VADDR, _songSpeed, 1); 
	ld	a, (__songSpeed+0)
	ld	e, a
	ld	d, #0x00
	ld	a, #0x01
	push	af
	inc	sp
	ld	hl, #0x18c8
	call	_VPrintNum
;src\tarp.c:1027: showSpeaker(GUI_DRUM_VADDR,_DrumEnabled);     
	ld	a, (__DrumEnabled+0)
	push	af
	inc	sp
	ld	hl, #0x190a
	call	_showSpeaker
;src\tarp.c:1028: showSpeaker(GUI_TONE_VADDR,_ToneEnabled);
	ld	a, (__ToneEnabled+0)
	push	af
	inc	sp
	ld	hl, #0x198a
	call	_showSpeaker
;src\tarp.c:1030: GUI_switcher(GUI_DKIT_VADDR,_isDrumKitB);
	xor	a, a
	ld	iy, #__isDrumKitB
	cp	a, 0 (iy)
	rla
	push	af
	inc	sp
	ld	hl, #0x1949
	call	_GUI_switcher
;src\tarp.c:1032: ShowPattern();            
	call	_ShowPattern
;src\tarp.c:1034: VPOKE(vaddr_cursor[_cursor_pos],GUI_CURSOR);
	ld	bc, #_vaddr_cursor+0
	ld	a, (__cursor_pos+0)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	rlca
	sbc	a, a
	ld	h, a
;	spillPairReg hl
;	spillPairReg hl
	add	hl, hl
	add	hl, bc
	ld	a, (hl)
	inc	hl
	ld	h, (hl)
;	spillPairReg hl
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x80
	push	af
	inc	sp
	call	_VPOKE
;src\tarp.c:1036: VPOKE(GUI_PLAY_VADDR,GUI_PLAY_ICON);
	ld	a, #0x16
	push	af
	inc	sp
	ld	hl, #0x1865
	call	_VPOKE
;src\tarp.c:1038: VPOKE(GUI_SEQ_VADDR+_ENDstep,GUI_SEQLENCURSOR);
	ld	a, (__ENDstep+0)
	ld	h, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	de, #0x1aae
	add	hl, de
	ld	a, #0xfe
	push	af
	inc	sp
	call	_VPOKE
;src\tarp.c:1040: ShowPatternRadioButton();
;src\tarp.c:1041: }
	jp	_ShowPatternRadioButton
;src\tarp.c:1045: void ShowSequenceCursor(void)
;	---------------------------------
; Function ShowSequenceCursor
; ---------------------------------
_ShowSequenceCursor::
;src\tarp.c:1048: if (_last_step==_newENDstep) VPOKE(GUI_SEQ_VADDR+_last_step,GUI_SEQLENCURSOR);    
	ld	a, (__last_step+0)
	ld	c, a
	ld	b, #0x00
	ld	hl, #0x1aae
	add	hl, bc
	ex	de, hl
	ld	a, (__last_step+0)
	ld	iy, #__newENDstep
	sub	a, 0 (iy)
	jr	NZ, 00102$
	ld	a, #0xfe
	push	af
	inc	sp
	ex	de, hl
	call	_VPOKE
	jr	00103$
00102$:
;src\tarp.c:1049: else VPOKE(GUI_SEQ_VADDR+_last_step,GUI_EMPTY_BLACK);    //borra la ultima posicion del
	ld	a, #0xff
	push	af
	inc	sp
	ex	de, hl
	call	_VPOKE
00103$:
;src\tarp.c:1051: VPOKE(GUI_SEQ_VADDR+_pattern_step,GUI_SEQCURSOR);  //muestra el cursor
	ld	a, (__pattern_step+0)
	ld	h, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	de, #0x1aae
	add	hl, de
	ld	a, #0xfd
	push	af
	inc	sp
	call	_VPOKE
;src\tarp.c:1052: _last_step = _pattern_step;
	ld	a, (__pattern_step+0)
	ld	(__last_step+0), a
;src\tarp.c:1053: }
	ret
;src\tarp.c:1057: void SetPatternLenght(char length)
;	---------------------------------
; Function SetPatternLenght
; ---------------------------------
_SetPatternLenght::
	ld	c, a
;src\tarp.c:1059: _newENDstep = length;
	ld	hl, #__newENDstep
	ld	(hl), c
;src\tarp.c:1061: if(_playerStatus==PLAYER_STOP) Play();
	ld	a, (__playerStatus+0)
	or	a, a
	jr	NZ, 00102$
	push	bc
	call	_Play
	pop	bc
00102$:
;src\tarp.c:1063: if (_pattern_step<_newENDstep){
	ld	a, (__pattern_step+0)
	ld	hl, #__newENDstep
	sub	a, (hl)
	jr	NC, 00104$
;src\tarp.c:1064: VPOKE(GUI_SEQ_VADDR+_ENDstep,GUI_EMPTY_BLACK);
	ld	a, (__ENDstep+0)
	ld	h, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	de, #0x1aae
	add	hl, de
	push	bc
	ld	a, #0xff
	push	af
	inc	sp
	call	_VPOKE
	pop	bc
;src\tarp.c:1065: _ENDstep = _newENDstep;
	ld	a, (__newENDstep+0)
	ld	(__ENDstep+0), a
00104$:
;src\tarp.c:1068: VPOKE(GUI_SEQ_VADDR+length,GUI_SEQLENCURSOR);
	ld	b, #0x00
	ld	hl, #0x1aae
	add	hl, bc
	ld	a, #0xfe
	push	af
	inc	sp
	call	_VPOKE
;src\tarp.c:1069: }        
	ret
;src\tarp.c:1084: void PlaySomething(void)
;	---------------------------------
; Function PlaySomething
; ---------------------------------
_PlaySomething::
;src\tarp.c:1088: _DrumEnabled = true;
	ld	hl, #__DrumEnabled
	ld	(hl), #0x01
;src\tarp.c:1089: _ToneEnabled = true;
	ld	hl, #__ToneEnabled
;src\tarp.c:1091: showSpeaker(GUI_DRUM_VADDR,_DrumEnabled);
	ld	a,#0x01
	ld	(hl),a
	push	af
	inc	sp
	ld	hl, #0x190a
	call	_showSpeaker
;src\tarp.c:1092: showSpeaker(GUI_TONE_VADDR,_ToneEnabled);
	ld	a, (__ToneEnabled+0)
	push	af
	inc	sp
	ld	hl, #0x198a
	call	_showSpeaker
;src\tarp.c:1094: for(i=0;i<2;i++)
	ld	b, #0x02
00106$:
;src\tarp.c:1096: ChangePattern();
	push	bc
	call	_ChangePattern
	call	_genDrumPattern
	call	_genTonePattern
	pop	bc
	djnz	00106$
;src\tarp.c:1094: for(i=0;i<2;i++)
;src\tarp.c:1101: if(_playerStatus==PLAYER_STOP) Play();
	ld	a, (__playerStatus+0)
	or	a, a
	jp	Z,_Play
;src\tarp.c:1102: }
	ret
;src\tarp.c:1106: void invertDrumChannel(void)
;	---------------------------------
; Function invertDrumChannel
; ---------------------------------
_invertDrumChannel::
;src\tarp.c:1108: _DrumEnabled=!_DrumEnabled;              
	ld	a, (__DrumEnabled+0)
	xor	a, #0x01
;src\tarp.c:1109: showSpeaker(GUI_DRUM_VADDR,_DrumEnabled); 
	ld	(__DrumEnabled+0), a
	push	af
	inc	sp
	ld	hl, #0x190a
	call	_showSpeaker
;src\tarp.c:1110: }
	ret
;src\tarp.c:1114: void invertToneChannel(void)
;	---------------------------------
; Function invertToneChannel
; ---------------------------------
_invertToneChannel::
;src\tarp.c:1116: _ToneEnabled=!_ToneEnabled;
	ld	a, (__ToneEnabled+0)
	xor	a, #0x01
;src\tarp.c:1117: showSpeaker(GUI_TONE_VADDR,_ToneEnabled);
	ld	(__ToneEnabled+0), a
	push	af
	inc	sp
	ld	hl, #0x198a
	call	_showSpeaker
;src\tarp.c:1118: }
	ret
;src\tarp.c:1122: void initWaveEnvelopes(void)
;	---------------------------------
; Function initWaveEnvelopes
; ---------------------------------
_initWaveEnvelopes::
	push	ix
	ld	ix,#0
	add	ix,sp
	push	af
	dec	sp
;src\tarp.c:1125: char conta=0;
	ld	c, #0x00
;src\tarp.c:1128: for(i=0;i<8;i++)
	ld	-1 (ix), #0x00
00105$:
;src\tarp.c:1130: envelope_list[i].isLoop = enve_loop[i];
	ld	e, -1 (ix)
	ld	d, #0x00
	ld	l, e
	ld	h, d
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, de
	ld	de, #_envelope_list
	add	hl, de
	ld	iy, #_enve_loop
	ld	e, -1 (ix)
	ld	d, #0x00
	add	iy, de
	ld	b, 0 (iy)
	xor	a, a
	cp	a, b
	rla
	ld	(hl), a
;src\tarp.c:1131: for(o=0;o<16;o++)
	ex	de, hl
	inc	de
	ld	b, c
	ld	c, #0x00
00103$:
;src\tarp.c:1133: envelope_list[i].ampValues[o] = enve_data[conta++];
	ld	a, e
	add	a, c
	ld	-3 (ix), a
	ld	a, d
	adc	a, #0x00
	ld	-2 (ix), a
	ld	a, b
	add	a, #<(_enve_data)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x00
	adc	a, #>(_enve_data)
	inc	b
	ld	h, a
	ld	a, (hl)
	pop	hl
	push	hl
	ld	(hl), a
;src\tarp.c:1131: for(o=0;o<16;o++)
	inc	c
	ld	a, c
	sub	a, #0x10
	jr	C, 00103$
;src\tarp.c:1128: for(i=0;i<8;i++)
	ld	c, b
	inc	-1 (ix)
	ld	a, -1 (ix)
	sub	a, #0x08
	jr	C, 00105$
;src\tarp.c:1137: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:1141: void initPatternsData(void)
;	---------------------------------
; Function initPatternsData
; ---------------------------------
_initPatternsData::
;src\tarp.c:1147: patternA.octave = 1;
	ld	hl, #_patternA+0
	ld	(hl), #0x01
;src\tarp.c:1148: patternA.transpose = 12;
	ld	hl, #_patternA + 1
	ld	(hl), #0x0c
;src\tarp.c:1149: patternA.AB_MIX = true;
	ld	hl, #_patternA + 2
	ld	(hl), #0x01
;src\tarp.c:1150: patternA.AB_offset = 3;
	ld	hl, #_patternA + 3
	ld	(hl), #0x03
;src\tarp.c:1151: patternA.Envelope = 0;
	ld	hl, #_patternA + 4
	ld	(hl), #0x00
;src\tarp.c:1153: patternB.octave = 1;
	ld	hl, #_patternB+0
	ld	(hl), #0x01
;src\tarp.c:1154: patternB.transpose = 12;
	ld	hl, #_patternB + 1
	ld	(hl), #0x0c
;src\tarp.c:1155: patternB.AB_MIX = true;
	ld	hl, #_patternB + 2
	ld	(hl), #0x01
;src\tarp.c:1156: patternB.AB_offset = 3;
	ld	hl, #_patternB + 3
	ld	(hl), #0x03
;src\tarp.c:1157: patternB.Envelope = 0;
	ld	hl, #_patternB + 4
	ld	(hl), #0x00
;src\tarp.c:1159: for(i=0;i<16;i++)
	ld	c, #0x00
00102$:
;src\tarp.c:1161: patternA.drum[i]=0;
	ld	a, c
	add	a, #<((_patternA + 5))
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	ld	a, #0x00
	adc	a, #>((_patternA + 5))
	ld	h, a
;	spillPairReg hl
;	spillPairReg hl
	ld	(hl), #0x00
;src\tarp.c:1162: patternA.tone[i]=0;
	ld	hl, #(_patternA + 21)
	ld	b, #0x00
	add	hl, bc
	ld	(hl), #0x00
;src\tarp.c:1164: patternB.drum[i]=0;
	ld	hl, #(_patternB + 5)
	ld	b, #0x00
	add	hl, bc
	ld	(hl), #0x00
;src\tarp.c:1165: patternB.tone[i]=0;
	ld	hl, #(_patternB + 21)
	ld	b, #0x00
	add	hl, bc
	ld	(hl), #0x00
;src\tarp.c:1159: for(i=0;i<16;i++)
	inc	c
	ld	a, c
	sub	a, #0x10
	jr	C, 00102$
;src\tarp.c:1167: }
	ret
;src\tarp.c:1172: void PlayerInit(void)
;	---------------------------------
; Function PlayerInit
; ---------------------------------
_PlayerInit::
;src\tarp.c:1174: _songSpeed = 4;
	ld	hl, #__songSpeed
	ld	(hl), #0x04
;src\tarp.c:1176: _env_step=0;
	ld	hl, #__env_step
	ld	(hl), #0x00
;src\tarp.c:1178: _songSpeedStep = _songSpeed;
	ld	hl, #__songSpeedStep
	ld	(hl), #0x04
;src\tarp.c:1179: _pattern_step=0;
	ld	hl, #__pattern_step
	ld	(hl), #0x00
;src\tarp.c:1180: _last_step=0;
	ld	hl, #__last_step
	ld	(hl), #0x00
;src\tarp.c:1181: _ENDstep = 15;  //to control the size of the pattern
	ld	hl, #__ENDstep
	ld	(hl), #0x0f
;src\tarp.c:1182: _newENDstep = _ENDstep;
	ld	hl, #__newENDstep
	ld	(hl), #0x0f
;src\tarp.c:1184: _pattern = (PATTERN *) patternA; 
	ld	iy, #__pattern
	ld	0 (iy), #<(_patternA)
	ld	1 (iy), #>(_patternA)
;src\tarp.c:1186: FillRAM((uint) AYREGS,14,0);  //borra el area del buffer de registros del PSG
	xor	a, a
	push	af
	inc	sp
	ld	de, #0x000e
	ld	hl, #_AYREGS
	call	_FillRAM
;src\tarp.c:1187: }
	ret
;src\tarp.c:1195: void PlayerDecode(void)
;	---------------------------------
; Function PlayerDecode
; ---------------------------------
_PlayerDecode::
	push	ix
	ld	ix,#0
	add	ix,sp
	push	af
	dec	sp
;src\tarp.c:1204: if (_songSpeedStep>=_songSpeed) //control de tempo por ciclos de Vblank 
	ld	a, (__songSpeedStep+0)
	ld	hl, #__songSpeed
	sub	a, (hl)
	jp	C, 00110$
;src\tarp.c:1206: _songSpeedStep=0;
	ld	hl, #__songSpeedStep
	ld	(hl), #0x00
;src\tarp.c:1209: if(_DrumEnabled==true)
	ld	hl, #__DrumEnabled
	bit	0, (hl)
	jp	Z, 00104$
;src\tarp.c:1211: drum_type = _pattern->drum[_pattern_step];
	ld	hl, (__pattern)
	ld	bc, #0x0005
	add	hl, bc
	ld	a, (__pattern_step+0)
	ld	e, a
	ld	d, #0x00
	add	hl, de
	ld	a, (hl)
;src\tarp.c:1213: if(drum_type>0) //0 = there is no drum
;src\tarp.c:1215: _Drum=&_DrumKit[drum_type-1];
	or	a,a
	jr	Z, 00104$
	dec	a
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	rlca
	sbc	a, a
	ld	h, a
	add	hl, hl
	add	hl, hl
	add	hl, hl
	ld	de, #__DrumKit
	add	hl, de
	ld	(__Drum), hl
;src\tarp.c:1217: SetMixer(2,_Drum->isTone,_Drum->isNoise);
	ld	bc, (__Drum)
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	inc	hl
	ld	d, (hl)
	ld	a, (bc)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	push	de
	inc	sp
	ld	a, #0x02
	call	_SetMixer
;src\tarp.c:1218: AYREGS[4]  = _Drum->Tone & 0xFF;      
	ld	hl, (__Drum)
	inc	hl
	inc	hl
	ld	a, (hl)
	ld	(#(_AYREGS + 4)),a
;src\tarp.c:1219: AYREGS[5]  = (_Drum->Tone & 0xFF00)/255;      
	ld	hl, (__Drum)
	inc	hl
	inc	hl
	inc	hl
	ld	h, (hl)
;	spillPairReg hl
;	spillPairReg hl
;	spillPairReg hl
	ld	l, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	de, #0x00ff
	call	__divuint
	ld	hl, #(_AYREGS + 5)
	ld	(hl), e
;src\tarp.c:1220: AYREGS[6]  = _Drum->Noise; //noise
	ld	hl, (__Drum)
	ld	de, #0x0004
	add	hl, de
	ld	a, (hl)
	ld	(#(_AYREGS + 6)),a
;src\tarp.c:1221: AYREGS[10] = 16; //volumen canal C (16=envolvente)
	ld	hl, #_AYREGS + 10
	ld	(hl), #0x10
;src\tarp.c:1222: AYREGS[11] = _Drum->Period & 0xFF;      
	ld	hl, (__Drum)
	ld	de, #0x0006
	add	hl, de
	ld	a, (hl)
	ld	(#(_AYREGS + 11)),a
;src\tarp.c:1223: AYREGS[12] = (_Drum->Period & 0xFF00)/255;
	ld	hl, (__Drum)
	ld	de, #0x0007
	add	hl, de
	ld	a, (hl)
;	spillPairReg hl
	ld	l, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	h, a
;	spillPairReg hl
;	spillPairReg hl
	ld	de, #0x00ff
	call	__divuint
	ld	hl, #(_AYREGS + 12)
	ld	(hl), e
;src\tarp.c:1224: AYREGS[13] = _Drum->Shape; //envelope wave form   
	ld	hl, (__Drum)
	ld	de, #0x0005
	add	hl, de
	ld	a, (hl)
	ld	(#(_AYREGS + 13)),a
00104$:
;src\tarp.c:1211: drum_type = _pattern->drum[_pattern_step];
	ld	hl, (__pattern)
	ex	(sp), hl
;src\tarp.c:1234: tone_note = _pattern->tone[_pattern_step];	  
	pop	hl
	push	hl
	ld	de, #0x0015
	add	hl, de
	ld	a, (__pattern_step+0)
	ld	e, a
	ld	d, #0x00
	add	hl, de
	ld	c, (hl)
	ld	-1 (ix), c
;src\tarp.c:1235: if(tone_note>0)
	ld	a, c
	or	a, a
	jr	Z, 00106$
;src\tarp.c:1237: freqA = getFreq(tone_note+(_pattern->octave*12)); //+ variacion; 
	pop	hl
	push	hl
	ld	c, (hl)
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	add	hl, hl
	add	hl, bc
	add	hl, hl
	add	hl, hl
	ld	c, -1 (ix)
	add	hl, bc
	ld	a, l
	call	_getFreq
;src\tarp.c:1238: freqB = freqA + _pattern->AB_offset;
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	ld	l, (hl)
;	spillPairReg hl
	ld	h, #0x00
;	spillPairReg hl
;	spillPairReg hl
	add	hl, de
	ld	c, l
	ld	b, h
;src\tarp.c:1242: AYREGS[0] = freqA & 0xFF;      
	ld	a, e
	ld	(#_AYREGS),a
;src\tarp.c:1243: AYREGS[1] = (freqA & 0xFF00)/255;
	ld	l, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	h, d
;	spillPairReg hl
;	spillPairReg hl
	push	bc
	ld	de, #0x00ff
	call	__divuint
	pop	bc
	ld	hl, #(_AYREGS + 1)
	ld	(hl), e
;src\tarp.c:1244: AYREGS[2] = freqB & 0xFF;      
	ld	a, c
	ld	(#(_AYREGS + 2)),a
;src\tarp.c:1245: AYREGS[3] = (freqB & 0xFF00)/255;
	ld	l, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	de, #0x00ff
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	call	__divuint
	ld	hl, #(_AYREGS + 3)
	ld	(hl), e
;src\tarp.c:1247: _env_step=0;
	ld	hl, #__env_step
	ld	(hl), #0x00
00106$:
;src\tarp.c:1252: _pattern_step++;
	ld	iy, #__pattern_step
	inc	0 (iy)
;src\tarp.c:1253: if(_pattern_step>_ENDstep)
	ld	a, (__ENDstep+0)
	sub	a, 0 (iy)
	jr	NC, 00111$
;src\tarp.c:1255: _pattern_step=0;
	ld	0 (iy), #0x00
;src\tarp.c:1256: _ENDstep = _newENDstep;
	ld	a, (__newENDstep+0)
	ld	(__ENDstep+0), a
	jr	00111$
00110$:
;src\tarp.c:1259: }else _songSpeedStep++;
	ld	hl, #__songSpeedStep
	inc	(hl)
00111$:
;src\tarp.c:1211: drum_type = _pattern->drum[_pattern_step];
	ld	bc, (__pattern)
;src\tarp.c:1263: if (_ToneEnabled==true)	_toneAmp = envelope_list[_pattern->Envelope].ampValues[_env_step];        
	inc	bc
	inc	bc
	inc	bc
	inc	bc
	ld	hl, #__ToneEnabled
	bit	0, (hl)
	jr	Z, 00113$
	ld	a, (bc)
	ld	e, a
	ld	d, #0x00
	ld	l, e
	ld	h, d
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, de
	ld	de, #_envelope_list
	add	hl, de
	inc	hl
	ld	a, (__env_step+0)
	ld	e, a
	ld	d, #0x00
	add	hl, de
	ld	a, (hl)
	ld	(__toneAmp+0), a
	jr	00114$
00113$:
;src\tarp.c:1264: else _toneAmp = 0;
	ld	hl, #__toneAmp
	ld	(hl), #0x00
00114$:
;src\tarp.c:1268: _env_step++;  //=_env_speed;
	ld	iy, #__env_step
	inc	0 (iy)
;src\tarp.c:1270: if (_env_step>15) //control de tamao de envolvente
	ld	a, #0x0f
	sub	a, 0 (iy)
	jr	NC, 00119$
;src\tarp.c:1272: if (envelope_list[_pattern->Envelope].isLoop==true) _env_step=0;
	ld	a, (bc)
	ld	c, a
	ld	b, #0x00
	ld	l, c
	ld	h, b
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, bc
	ld	de, #_envelope_list
	add	hl, de
	bit	0, (hl)
	jr	Z, 00116$
	ld	0 (iy), #0x00
	jr	00119$
00116$:
;src\tarp.c:1273: else _env_step=15; // ultimo valor de la envolvente
	ld	hl, #__env_step
	ld	(hl), #0x0f
00119$:
;src\tarp.c:1276: AYREGS[8] = _toneAmp;
	ld	hl, #(_AYREGS + 8)
	ld	a, (__toneAmp+0)
	ld	(hl), a
;src\tarp.c:1278: if(_pattern->AB_MIX==true) AYREGS[9] = _toneAmp;
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	ld	c, (hl)
	ld	hl, #_AYREGS + 9
	bit	0, c
	jr	Z, 00121$
	ld	a, (__toneAmp+0)
	ld	(hl), a
	jr	00123$
00121$:
;src\tarp.c:1279: else AYREGS[9] = 0;
	ld	(hl), #0x00
00123$:
;src\tarp.c:1281: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:1289: void PlayAY(void) __naked
;	---------------------------------
; Function PlayAY
; ---------------------------------
_PlayAY::
;src\tarp.c:1340: __endasm;
	ld	HL,#_AYREGS
	ld	A,(#_AYREGS+7)
	AND	#0b00111111
	ld	B,A
	ld	A,#7
	out	(#0xA0),A
	in	A,(#0xA2)
	and	#0b11000000
	or	B
	ld	(#_AYREGS+7),A
	ld	A,(#__playerHardware)
	or	A
	jr	Z,PSGinternal
	xor	A
	ld	C,#0x10
	jr	ILOOP
PSGinternal:
	xor	A
	ld	C,#0xA0
ILOOP:
	out	(C),A
	inc	C
	outi
	dec	C
	inc	A
	cp	#13
	jr	NZ,ILOOP
	out	(C),A
	ld	A,(HL)
	or	A
	ret	Z
	inc	C
	out	(C),A
	ld	(HL),#0
	ret
;src\tarp.c:1341: }
;src\tarp.c:1347: void SetMixer(char NumChannel, boolean isTone, boolean isNoise)
;	---------------------------------
; Function SetMixer
; ---------------------------------
_SetMixer::
	push	ix
	ld	ix,#0
	add	ix,sp
	dec	sp
	ld	c, a
	ld	-1 (ix), l
;src\tarp.c:1351: newValue = AYREGS[7]; //GetSound(7);
	ld	hl, #(_AYREGS + 7)
	ld	e, (hl)
;src\tarp.c:1353: if(NumChannel==0) 
	ld	a, c
	or	a, a
	jr	NZ, 00108$
;src\tarp.c:1355: if(isTone==true){newValue&=254;}else{newValue|=1;}
	bit	0, -1 (ix)
	jr	Z, 00102$
	res	0, e
	jr	00103$
00102$:
	set	0, e
00103$:
;src\tarp.c:1356: if(isNoise==true){newValue&=247;}else{newValue|=8;}
	bit	0, 4 (ix)
	jr	Z, 00105$
	res	3, e
	jr	00108$
00105$:
	set	3, e
00108$:
;src\tarp.c:1358: if(NumChannel==1)    
	ld	a, c
	dec	a
	jr	NZ, 00116$
;src\tarp.c:1360: if(isTone==true){newValue&=253;}else{newValue|=2;}
	bit	0, -1 (ix)
	jr	Z, 00110$
	res	1, e
	jr	00111$
00110$:
	set	1, e
00111$:
;src\tarp.c:1361: if(isNoise==true){newValue&=239;}else{newValue|=16;}
	bit	0, 4 (ix)
	jr	Z, 00113$
	res	4, e
	jr	00116$
00113$:
	set	4, e
00116$:
;src\tarp.c:1363: if(NumChannel==2)
	ld	a, c
	sub	a, #0x02
	jr	NZ, 00124$
;src\tarp.c:1365: if(isTone==true){newValue&=251;}else{newValue|=4;}
	bit	0, -1 (ix)
	jr	Z, 00118$
	res	2, e
	jr	00119$
00118$:
	set	2, e
00119$:
;src\tarp.c:1366: if(isNoise==true){newValue&=223;}else{newValue|=32;}
	bit	0, 4 (ix)
	jr	Z, 00121$
	res	5, e
	jr	00124$
00121$:
	set	5, e
00124$:
;src\tarp.c:1368: AYREGS[7] = newValue;
	ld	hl, #(_AYREGS + 7)
	ld	(hl), e
;src\tarp.c:1369: }
	inc	sp
	pop	ix
	pop	hl
	inc	sp
	jp	(hl)
;src\tarp.c:1373: void SetDrumKit(boolean kit)
;	---------------------------------
; Function SetDrumKit
; ---------------------------------
_SetDrumKit::
;src\tarp.c:1376: if (kit==false)
	bit	0,a
	jr	NZ, 00102$
;src\tarp.c:1380: _DrumKit[0].isTone=true;
	ld	hl, #__DrumKit+0
	ld	(hl), #0x01
;src\tarp.c:1381: _DrumKit[0].isNoise=false;
	ld	hl, #__DrumKit + 1
	ld	(hl), #0x00
;src\tarp.c:1382: _DrumKit[0].Tone=1700;
	ld	hl, #0x06a4
	ld	((__DrumKit + 2)), hl
;src\tarp.c:1383: _DrumKit[0].Noise=0;
	ld	hl, #__DrumKit + 4
	ld	(hl), #0x00
;src\tarp.c:1384: _DrumKit[0].Shape=1;
	ld	hl, #__DrumKit + 5
	ld	(hl), #0x01
;src\tarp.c:1385: _DrumKit[0].Period=800;
	ld	hl, #0x0320
	ld	((__DrumKit + 6)), hl
;src\tarp.c:1388: _DrumKit[1].isTone=true;
	ld	hl, #__DrumKit + 8
	ld	(hl), #0x01
;src\tarp.c:1389: _DrumKit[1].isNoise=true;
	ld	hl, #__DrumKit + 9
	ld	(hl), #0x01
;src\tarp.c:1390: _DrumKit[1].Tone=1000;
	ld	hl, #0x03e8
	ld	((__DrumKit + 10)), hl
;src\tarp.c:1391: _DrumKit[1].Noise=0;
	ld	hl, #__DrumKit + 12
	ld	(hl), #0x00
;src\tarp.c:1392: _DrumKit[1].Shape=1;
	ld	hl, #__DrumKit + 13
	ld	(hl), #0x01
;src\tarp.c:1393: _DrumKit[1].Period=1400;
	ld	hl, #0x0578
	ld	((__DrumKit + 14)), hl
;src\tarp.c:1396: _DrumKit[2].isTone=false;
	ld	hl, #__DrumKit + 16
	ld	(hl), #0x00
;src\tarp.c:1397: _DrumKit[2].isNoise=true;
	ld	hl, #__DrumKit + 17
	ld	(hl), #0x01
;src\tarp.c:1398: _DrumKit[2].Tone=0;
	ld	hl, #0x0000
	ld	((__DrumKit + 18)), hl
;src\tarp.c:1399: _DrumKit[2].Noise=0;
	ld	hl, #__DrumKit + 20
	ld	(hl), #0x00
;src\tarp.c:1400: _DrumKit[2].Shape=1;
	ld	hl, #__DrumKit + 21
	ld	(hl), #0x01
;src\tarp.c:1401: _DrumKit[2].Period=400;		//200
	ld	hl, #0x0190
	ld	((__DrumKit + 22)), hl
	ret
00102$:
;src\tarp.c:1406: _DrumKit[0].isTone=true;
	ld	hl, #__DrumKit+0
	ld	(hl), #0x01
;src\tarp.c:1407: _DrumKit[0].isNoise=false;
	ld	hl, #__DrumKit + 1
	ld	(hl), #0x00
;src\tarp.c:1408: _DrumKit[0].Tone=140;
	ld	hl, #0x008c
	ld	((__DrumKit + 2)), hl
;src\tarp.c:1409: _DrumKit[0].Noise=0;
	ld	hl, #__DrumKit + 4
	ld	(hl), #0x00
;src\tarp.c:1410: _DrumKit[0].Shape=1;
	ld	hl, #__DrumKit + 5
	ld	(hl), #0x01
;src\tarp.c:1411: _DrumKit[0].Period=800;
	ld	hl, #0x0320
	ld	((__DrumKit + 6)), hl
;src\tarp.c:1414: _DrumKit[1].isTone=false;
	ld	hl, #__DrumKit + 8
	ld	(hl), #0x00
;src\tarp.c:1415: _DrumKit[1].isNoise=true;
	ld	hl, #__DrumKit + 9
	ld	(hl), #0x01
;src\tarp.c:1416: _DrumKit[1].Tone=0;
	ld	hl, #0x0000
	ld	((__DrumKit + 10)), hl
;src\tarp.c:1417: _DrumKit[1].Noise=0;
	ld	hl, #__DrumKit + 12
	ld	(hl), #0x00
;src\tarp.c:1418: _DrumKit[1].Shape=1;
	ld	hl, #__DrumKit + 13
	ld	(hl), #0x01
;src\tarp.c:1419: _DrumKit[1].Period=1600;
	ld	hl, #0x0640
	ld	((__DrumKit + 14)), hl
;src\tarp.c:1422: _DrumKit[2].isTone=true;
	ld	hl, #__DrumKit + 16
	ld	(hl), #0x01
;src\tarp.c:1423: _DrumKit[2].isNoise=false;
	ld	hl, #__DrumKit + 17
	ld	(hl), #0x00
;src\tarp.c:1424: _DrumKit[2].Tone=66;
	ld	hl, #0x0042
	ld	((__DrumKit + 18)), hl
;src\tarp.c:1425: _DrumKit[2].Noise=0;
	ld	hl, #__DrumKit + 20
	ld	(hl), #0x00
;src\tarp.c:1426: _DrumKit[2].Shape=1;
	ld	hl, #__DrumKit + 21
	ld	(hl), #0x01
;src\tarp.c:1427: _DrumKit[2].Period=400;
	ld	hl, #0x0190
	ld	((__DrumKit + 22)), hl
;src\tarp.c:1430: }
	ret
;src\tarp.c:1434: void Silence(void)	__naked
;	---------------------------------
; Function Silence
; ---------------------------------
_Silence::
;src\tarp.c:1438: __endasm;
	jp	0x0090
;src\tarp.c:1439: }
;src\tarp.c:1443: void Play(void)
;	---------------------------------
; Function Play
; ---------------------------------
_Play::
;src\tarp.c:1445: _songSpeedStep = _songSpeed;
	ld	a, (__songSpeed+0)
	ld	(__songSpeedStep+0), a
;src\tarp.c:1446: _pattern_step=0;
	ld	hl, #__pattern_step
	ld	(hl), #0x00
;src\tarp.c:1447: ShowSequenceCursor();
	call	_ShowSequenceCursor
;src\tarp.c:1449: _playerStatus=PLAYER_PLAY;
	ld	hl, #__playerStatus
	ld	(hl), #0x01
;src\tarp.c:1450: VPOKE(GUI_PLAY_VADDR,GUI_STOP_ICON);
	ld	a, #0x17
	push	af
	inc	sp
	ld	hl, #0x1865
	call	_VPOKE
;src\tarp.c:1451: }
	ret
;src\tarp.c:1455: void Stop(void)
;	---------------------------------
; Function Stop
; ---------------------------------
_Stop::
;src\tarp.c:1457: AYREGS[8]=0;
	ld	hl, #_AYREGS + 8
	ld	(hl), #0x00
;src\tarp.c:1458: AYREGS[9]=0;
	ld	hl, #_AYREGS + 9
	ld	(hl), #0x00
;src\tarp.c:1459: AYREGS[10]=0;
	ld	hl, #_AYREGS + 10
	ld	(hl), #0x00
;src\tarp.c:1460: _playerStatus=PLAYER_STOP;
	ld	hl, #__playerStatus
	ld	(hl), #0x00
;src\tarp.c:1461: VPOKE(GUI_PLAY_VADDR,GUI_PLAY_ICON);
	ld	a, #0x16
	push	af
	inc	sp
	ld	hl, #0x1865
	call	_VPOKE
;src\tarp.c:1462: }
	ret
;src\tarp.c:1469: char Rnd(char value) __naked
;	---------------------------------
; Function Rnd
; ---------------------------------
_Rnd::
;src\tarp.c:1497: __endasm;
	ld	C,A
	ld	A,R ;
	ld	B,A
	ld	A,(#_SEED)
	SRA	A
	add	A,B
;add	A,A
	ld	B,A
	ld	A,R ;
	add	A,B
	inc	A
	ld	(#_SEED),A
	AND	C ;aplica la mascara
	ret
;src\tarp.c:1498: }
;src\tarp.c:1502: void pressKey(void) __naked
;	---------------------------------
; Function pressKey
; ---------------------------------
_pressKey::
;src\tarp.c:1506: __endasm;
	jp	0x009F
;src\tarp.c:1507: }
;src\tarp.c:1511: void ChangePattern(void)
;	---------------------------------
; Function ChangePattern
; ---------------------------------
_ChangePattern::
;src\tarp.c:1513: _playPatternNumber++;
	ld	iy, #__playPatternNumber
	inc	0 (iy)
;src\tarp.c:1514: if (_playPatternNumber>PATTERN_B) _playPatternNumber=PATTERN_A;
	ld	a, #0x01
	sub	a, 0 (iy)
	jr	NC, 00102$
	ld	0 (iy), #0x00
00102$:
;src\tarp.c:1516: SetPattern(_playPatternNumber);
	ld	a, (__playPatternNumber+0)
;src\tarp.c:1517: }
	jp	_SetPattern
;src\tarp.c:1521: void SetPattern(char number)
;	---------------------------------
; Function SetPattern
; ---------------------------------
_SetPattern::
;src\tarp.c:1523: _playPatternNumber = number;
	ld	(__playPatternNumber+0), a
;src\tarp.c:1524: if (number==PATTERN_A) _pattern = (PATTERN *) patternA; 
	or	a, a
	jr	NZ, 00102$
	ld	iy, #__pattern
	ld	0 (iy), #<(_patternA)
	ld	1 (iy), #>(_patternA)
	jp	_ShowPatternRadioButton
00102$:
;src\tarp.c:1525: else _pattern = (PATTERN *) patternB;
	ld	iy, #__pattern
	ld	0 (iy), #<(_patternB)
	ld	1 (iy), #>(_patternB)
;src\tarp.c:1527: ShowPatternRadioButton();
;src\tarp.c:1528: }
	jp	_ShowPatternRadioButton
;src\tarp.c:1532: void CopyPattern(void)
;	---------------------------------
; Function CopyPattern
; ---------------------------------
_CopyPattern::
	push	ix
	ld	ix,#0
	add	ix,sp
	ld	hl, #-5
	add	hl, sp
	ld	sp, hl
;src\tarp.c:1537: if (_playPatternNumber==PATTERN_A) _destination = (PATTERN *) patternB; 
	ld	a, (__playPatternNumber+0)
	or	a, a
	jr	NZ, 00102$
	ld	bc, #_patternB+0
	jr	00110$
00102$:
;src\tarp.c:1538: else _destination = (PATTERN *) patternA;
	ld	bc, #_patternA
;src\tarp.c:1540: for(i=0;i<16;i++){
00110$:
	ld	hl, #0x0005
	add	hl, bc
	ex	(sp), hl
	ld	hl, #0x0015
	add	hl, bc
	ld	-3 (ix), l
	ld	-2 (ix), h
	ld	-1 (ix), #0x00
00105$:
;src\tarp.c:1541: _destination->drum[i]=_pattern->drum[i];
	ld	a, -5 (ix)
	add	a, -1 (ix)
	ld	e, a
	ld	a, -4 (ix)
	adc	a, #0x00
	ld	d, a
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	ld	a, l
	add	a, -1 (ix)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	jr	NC, 00131$
	inc	h
00131$:
	ld	a, (hl)
	ld	(de), a
;src\tarp.c:1542: _destination->tone[i]=_pattern->tone[i];
	ld	a, -3 (ix)
	add	a, -1 (ix)
	ld	e, a
	ld	a, -2 (ix)
	adc	a, #0x00
	ld	d, a
	ld	hl, (__pattern)
	push	de
	ld	de, #0x0015
	add	hl, de
	pop	de
	ld	a, l
	add	a, -1 (ix)
	ld	l, a
;	spillPairReg hl
;	spillPairReg hl
	jr	NC, 00132$
	inc	h
00132$:
	ld	a, (hl)
	ld	(de), a
;src\tarp.c:1540: for(i=0;i<16;i++){
	inc	-1 (ix)
	ld	a, -1 (ix)
	sub	a, #0x10
	jr	C, 00105$
;src\tarp.c:1545: _destination->octave = _pattern->octave;
	ld	hl, (__pattern)
	ld	a, (hl)
	ld	(bc), a
;src\tarp.c:1546: _destination->transpose = _pattern->transpose;
	ld	e, c
	ld	d, b
	inc	de
	ld	hl, (__pattern)
	inc	hl
	ld	a, (hl)
	ld	(de), a
;src\tarp.c:1547: _destination->AB_MIX = _pattern->AB_MIX;
	ld	e, c
	ld	d, b
	inc	de
	inc	de
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	ld	a, (hl)
	ld	(de), a
;src\tarp.c:1548: _destination->AB_offset = _pattern->AB_offset;
	ld	e, c
	ld	d, b
	inc	de
	inc	de
	inc	de
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	ld	a, (hl)
	ld	(de), a
;src\tarp.c:1549: _destination->Envelope = _pattern->Envelope;
	inc	bc
	inc	bc
	inc	bc
	inc	bc
	ld	hl, (__pattern)
	ld	de, #0x0004
	add	hl, de
	ld	a, (hl)
	ld	(bc), a
;src\tarp.c:1551: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:1555: void ShowPatternRadioButton(void)
;	---------------------------------
; Function ShowPatternRadioButton
; ---------------------------------
_ShowPatternRadioButton::
;src\tarp.c:1557: if(_playPatternNumber==PATTERN_A){
	ld	a, (__playPatternNumber+0)
	or	a, a
	jr	NZ, 00102$
;src\tarp.c:1558: VPOKE(GUI_RADIO_A_VADDR,GUI_RADION_ICON);
	ld	a, #0xdb
	push	af
	inc	sp
	ld	hl, #0x1882
	call	_VPOKE
;src\tarp.c:1559: VPOKE(GUI_RADIO_B_VADDR,GUI_RADIOF_ICON);
	ld	a, #0xda
	push	af
	inc	sp
	ld	hl, #0x1885
	call	_VPOKE
	ret
00102$:
;src\tarp.c:1561: VPOKE(GUI_RADIO_A_VADDR,GUI_RADIOF_ICON);
	ld	a, #0xda
	push	af
	inc	sp
	ld	hl, #0x1882
	call	_VPOKE
;src\tarp.c:1562: VPOKE(GUI_RADIO_B_VADDR,GUI_RADION_ICON);
	ld	a, #0xdb
	push	af
	inc	sp
	ld	hl, #0x1885
	call	_VPOKE
;src\tarp.c:1564: }
	ret
;src\tarp.c:1569: void genDrumPattern(void)
;	---------------------------------
; Function genDrumPattern
; ---------------------------------
_genDrumPattern::
	push	ix
	ld	ix,#0
	add	ix,sp
	push	af
	dec	sp
;src\tarp.c:1574: char conta=0;
;src\tarp.c:1581: for(i=0;i<16;i++) _pattern->drum[i]=0;
	ld	bc, #0x0
00121$:
	ld	hl, (__pattern)
	ld	de, #0x0005
	add	hl, de
	ld	e, b
	ld	d, #0x00
	add	hl, de
	ld	(hl), #0x00
	inc	b
	ld	a, b
	sub	a, #0x10
	jr	C, 00121$
;src\tarp.c:1583: hits=Rnd(3);  
	push	bc
	ld	a, #0x03
	call	_Rnd
	pop	bc
	ld	-3 (ix), a
;src\tarp.c:1584: if(hits>0)
	or	a, a
	jr	Z, 00108$
;src\tarp.c:1587: do{
00104$:
;src\tarp.c:1588: conta+=hits;
	ld	a, -3 (ix)
	add	a, c
;src\tarp.c:1589: if(conta<16) _pattern->drum[conta]=3;       
	ld	c, a
	sub	a, #0x10
	ld	a, #0x00
	rla
	ld	e, a
	or	a, a
	jr	Z, 00105$
	ld	hl, (__pattern)
	ld	a, l
	add	a, #0x05
	ld	-2 (ix), a
	ld	a, h
	adc	a, #0x00
	ld	-1 (ix), a
	ld	l, -2 (ix)
;	spillPairReg hl
;	spillPairReg hl
	ld	h, -1 (ix)
;	spillPairReg hl
;	spillPairReg hl
	ld	b, #0x00
	add	hl, bc
	ld	(hl), #0x03
00105$:
;src\tarp.c:1590: }while(conta<16); 
	ld	a, e
	or	a, a
	jr	NZ, 00104$
00108$:
;src\tarp.c:1593: conta=0;
	ld	-1 (ix), #0x00
;src\tarp.c:1594: kicks=Rnd(3)*2;
	ld	a, #0x03
	call	_Rnd
	add	a, a
	ld	b, a
;src\tarp.c:1595: if(kicks>0)
	or	a, a
	jr	Z, 00113$
;src\tarp.c:1597: do{      
00109$:
;src\tarp.c:1598: _pattern->drum[conta]=1;
	ld	hl, (__pattern)
	ld	de, #0x0005
	add	hl, de
	ld	e, -1 (ix)
	ld	d, #0x00
	add	hl, de
	ld	(hl), #0x01
;src\tarp.c:1599: conta+=kicks;       
	ld	a, -1 (ix)
	add	a, b
;src\tarp.c:1600: }while(conta<16); 
	ld	-1 (ix), a
	sub	a, #0x10
	jr	C, 00109$
00113$:
;src\tarp.c:1603: conta=0;
	ld	c, #0x00
;src\tarp.c:1604: snares=Rnd(3)*4;
	push	bc
	ld	a, #0x03
	call	_Rnd
	pop	bc
	add	a, a
	add	a, a
	ld	e, a
;src\tarp.c:1605: if(snares>0)
	or	a, a
	jr	Z, 00120$
;src\tarp.c:1607: do{
00116$:
;src\tarp.c:1608: conta+=snares;
	ld	a, e
	add	a, c
;src\tarp.c:1609: if(conta<16) _pattern->drum[conta]=2;
	ld	c, a
	sub	a, #0x10
	ld	a, #0x00
	rla
	ld	d, a
	or	a, a
	jr	Z, 00117$
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	ld	b, #0x00
	add	hl, bc
	ld	(hl), #0x02
00117$:
;src\tarp.c:1610: }while(conta<16); 
	ld	a, d
	or	a, a
	jr	NZ, 00116$
00120$:
;src\tarp.c:1613: ShowDrumPattern();
	call	_ShowDrumPattern
;src\tarp.c:1615: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:1620: void genTonePattern(void)
;	---------------------------------
; Function genTonePattern
; ---------------------------------
_genTonePattern::
	push	ix
	ld	ix,#0
	add	ix,sp
	push	af
	push	af
;src\tarp.c:1624: char conta=0;
	ld	-1 (ix), #0x00
;src\tarp.c:1625: char increment=0;
	ld	c, #0x00
;src\tarp.c:1629: _pattern->transpose = 12;
	ld	hl, (__pattern)
	inc	hl
	ld	(hl), #0x0c
;src\tarp.c:1631: for(i=0;i<16;i++) _pattern->tone[i]=0; //empty
	ld	e, #0x00
00111$:
	ld	hl, (__pattern)
	push	de
	ld	de, #0x0015
	add	hl, de
	pop	de
	ld	d, #0x00
	add	hl, de
	ld	(hl), #0x00
	inc	e
	ld	a, e
	sub	a, #0x10
	jr	C, 00111$
;src\tarp.c:1633: type=Rnd(3)+1;  //determines the number of notes
	push	bc
	ld	a, #0x03
	call	_Rnd
	pop	bc
;src\tarp.c:1635: if (type==2) increment=4;
	inc	a
	ld	b, a
	sub	a, #0x02
	jr	NZ, 00103$
	ld	c, #0x04
00103$:
;src\tarp.c:1636: if (type>2) increment=2;
	ld	a, #0x02
	sub	a, b
	jr	NC, 00105$
	ld	c, #0x02
00105$:
;src\tarp.c:1638: type++;
	inc	b
;src\tarp.c:1639: for(i=1;i<type;i++)
	ld	e, #0x01
00114$:
	ld	a, e
	sub	a, b
	jr	NC, 00109$
;src\tarp.c:1641: value=Rnd(15);    // generate random note
	push	bc
	push	de
	ld	a, #0x0f
	call	_Rnd
	ld	-4 (ix), a
	pop	de
	pop	bc
;src\tarp.c:1629: _pattern->transpose = 12;
	ld	hl, (__pattern)
;src\tarp.c:1642: if(value>11) _pattern->tone[conta]=0;  //empty
	push	de
	ld	de, #0x0015
	add	hl, de
	pop	de
	ld	a, l
	add	a, -1 (ix)
	ld	-3 (ix), a
	ld	a, h
	adc	a, #0x00
	ld	-2 (ix), a
	ld	a, #0x0b
	sub	a, -4 (ix)
	jr	NC, 00107$
	ld	l, -3 (ix)
	ld	h, -2 (ix)
	ld	(hl), #0x00
	jr	00108$
00107$:
;src\tarp.c:1643: else _pattern->tone[conta]=value+1+12; //adds an octave (12) for the transpose functionality    
	ld	a, -4 (ix)
	add	a, #0x0d
	ld	l, -3 (ix)
	ld	h, -2 (ix)
	ld	(hl), a
00108$:
;src\tarp.c:1644: conta=conta+increment;
	ld	a, -1 (ix)
	add	a, c
	ld	-1 (ix), a
;src\tarp.c:1639: for(i=1;i<type;i++)
	inc	e
	jr	00114$
00109$:
;src\tarp.c:1648: for(i=0;i<8;i++) _pattern->tone[i+8]=_pattern->tone[i];
	ld	c, #0x00
00116$:
;src\tarp.c:1629: _pattern->transpose = 12;
	ld	hl, (__pattern)
;src\tarp.c:1642: if(value>11) _pattern->tone[conta]=0;  //empty
	ld	de, #0x0015
	add	hl, de
;src\tarp.c:1648: for(i=0;i<8;i++) _pattern->tone[i+8]=_pattern->tone[i];
	ld	a, c
	add	a, #0x08
	add	a, l
	ld	e, a
	ld	a, #0x00
	adc	a, h
	ld	d, a
	ld	b, #0x00
	add	hl, bc
	ld	a, (hl)
	ld	(de), a
	inc	c
	ld	a, c
	sub	a, #0x08
	jr	C, 00116$
;src\tarp.c:1650: ShowTonePattern();
	call	_ShowTonePattern
;src\tarp.c:1651: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:1655: void ShowPattern(void)
;	---------------------------------
; Function ShowPattern
; ---------------------------------
_ShowPattern::
;src\tarp.c:1657: showOctave();
	call	_showOctave
;src\tarp.c:1658: showABmix();
	call	_showABmix
;src\tarp.c:1659: showABoffset();
	call	_showABoffset
;src\tarp.c:1660: showEnv();
	call	_showEnv
;src\tarp.c:1662: ShowDrumPattern();
	call	_ShowDrumPattern
;src\tarp.c:1663: ShowTonePattern();
;src\tarp.c:1664: }
	jp	_ShowTonePattern
;src\tarp.c:1669: void ShowDrumPattern(void)
;	---------------------------------
; Function ShowDrumPattern
; ---------------------------------
_ShowDrumPattern::
;src\tarp.c:1674: for (i=0;i<16;i++) VPOKE(vaddr++,_pattern->drum[i]+GUI_SEQ_INSTR);
	ld	bc, #0x1ace
	ld	e, #0x00
00102$:
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	ld	d, #0x00
	add	hl, de
	ld	a, (hl)
	add	a, #0xd1
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	inc	bc
	push	bc
	push	de
	push	af
	inc	sp
	call	_VPOKE
	pop	de
	pop	bc
	inc	e
	ld	a, e
	sub	a, #0x10
	jr	C, 00102$
;src\tarp.c:1676: }
	ret
;src\tarp.c:1681: void ShowTonePattern(void)
;	---------------------------------
; Function ShowTonePattern
; ---------------------------------
_ShowTonePattern::
	push	ix
	ld	ix,#0
	add	ix,sp
	push	af
;src\tarp.c:1683: uint vaddr = GUI_SEQ_TONE_VADDR;
	ld	bc, #0x1aee
;src\tarp.c:1686: for (i=0;i<16;i++){
	ld	e, #0x00
00105$:
;src\tarp.c:1687: if(_pattern->tone[i]==0) VPOKE(vaddr++,GUI_SEQ_INSTR);
	ld	hl, (__pattern)
	push	de
	ld	de, #0x0015
	add	hl, de
	pop	de
	ld	d, #0x00
	add	hl, de
	ld	d, (hl)
	ld	l, c
	ld	h, b
	inc	hl
	ex	(sp), hl
	ld	a, d
	or	a, a
	jr	NZ, 00102$
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	pop	bc
	push	bc
	push	bc
	push	de
	ld	a, #0xd1
	push	af
	inc	sp
	call	_VPOKE
	pop	de
	pop	bc
	jr	00106$
00102$:
;src\tarp.c:1688: else VPOKE(vaddr++,GUI_SEQ_TONE);
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	pop	bc
	push	bc
	push	bc
	push	de
	ld	a, #0xd5
	push	af
	inc	sp
	call	_VPOKE
	pop	de
	pop	bc
00106$:
;src\tarp.c:1686: for (i=0;i<16;i++){
	inc	e
	ld	a, e
	sub	a, #0x10
	jr	C, 00105$
;src\tarp.c:1690: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:1694: void upOctave(void)
;	---------------------------------
; Function upOctave
; ---------------------------------
_upOctave::
;src\tarp.c:1696: if (_pattern->octave>0) _pattern->octave--;
	ld	hl, (__pattern)
	ld	a, (hl)
	or	a, a
	jp	Z,_showOctave
	dec	a
	ld	(hl), a
;src\tarp.c:1698: showOctave();
;src\tarp.c:1699: }
	jp	_showOctave
;src\tarp.c:1703: void downOctave(void)
;	---------------------------------
; Function downOctave
; ---------------------------------
_downOctave::
;src\tarp.c:1705: if (_pattern->octave<5) _pattern->octave++;
	ld	hl, (__pattern)
	ld	a, (hl)
	cp	a, #0x05
	jp	NC,_showOctave
	inc	a
	ld	(hl), a
;src\tarp.c:1707: showOctave();
;src\tarp.c:1708: }
	jp	_showOctave
;src\tarp.c:1712: void showOctave(void)
;	---------------------------------
; Function showOctave
; ---------------------------------
_showOctave::
;src\tarp.c:1714: VPrintNum(GUI_OCTA_VADDR, _pattern->octave+1, 1);
	ld	hl, (__pattern)
	ld	e, (hl)
	ld	d, #0x00
	inc	de
	ld	a, #0x01
	push	af
	inc	sp
	ld	hl, #0x1a68
	call	_VPrintNum
;src\tarp.c:1715: }
	ret
;src\tarp.c:1719: void showABmix(void)
;	---------------------------------
; Function showABmix
; ---------------------------------
_showABmix::
;src\tarp.c:1721: GUI_switcher(GUI_ABMIX_VADDR,_pattern->AB_MIX);
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	ld	a, (hl)
	push	af
	inc	sp
	ld	hl, #0x19c9
	call	_GUI_switcher
;src\tarp.c:1722: }
	ret
;src\tarp.c:1726: void showABoffset(void)
;	---------------------------------
; Function showABoffset
; ---------------------------------
_showABoffset::
;src\tarp.c:1728: VPrintNum(GUI_OFFS_VADDR, _pattern->AB_offset, 3);
	ld	hl, (__pattern)
	inc	hl
	inc	hl
	inc	hl
	ld	e, (hl)
	ld	d, #0x00
	ld	a, #0x03
	push	af
	inc	sp
	ld	hl, #0x19e6
	call	_VPrintNum
;src\tarp.c:1729: }
	ret
;src\tarp.c:1734: void TransposeUp(void)
;	---------------------------------
; Function TransposeUp
; ---------------------------------
_TransposeUp::
;src\tarp.c:1739: if (_pattern->transpose<24)
	ld	hl, (__pattern)
	inc	hl
	ld	a, (hl)
	cp	a, #0x18
	ret	NC
;src\tarp.c:1741: _pattern->transpose++;
	inc	a
	ld	(hl), a
;src\tarp.c:1743: for(i=0;i<16;i++)
	ld	c, #0x00
00106$:
;src\tarp.c:1739: if (_pattern->transpose<24)
	ld	hl, (__pattern)
;src\tarp.c:1745: value = _pattern->tone[i];
	ld	de, #0x0015
	add	hl, de
	ld	e, c
	ld	d, #0x00
	add	hl, de
	ld	a, (hl)
;src\tarp.c:1746: if(value>0) _pattern->tone[i]++;
	or	a, a
	jr	Z, 00107$
	inc	a
	ld	(hl), a
00107$:
;src\tarp.c:1743: for(i=0;i<16;i++)
	inc	c
	ld	a, c
	sub	a, #0x10
	jr	C, 00106$
;src\tarp.c:1750: }
	ret
;src\tarp.c:1755: void TransposeDown(void)
;	---------------------------------
; Function TransposeDown
; ---------------------------------
_TransposeDown::
;src\tarp.c:1761: if (_pattern->transpose>0)
	ld	hl, (__pattern)
	inc	hl
	ld	a, (hl)
	or	a, a
	ret	Z
;src\tarp.c:1763: _pattern->transpose--;    
	dec	a
	ld	(hl), a
;src\tarp.c:1765: for(i=0;i<16;i++)
	ld	c, #0x00
00106$:
;src\tarp.c:1761: if (_pattern->transpose>0)
	ld	hl, (__pattern)
;src\tarp.c:1767: value = _pattern->tone[i];
	ld	de, #0x0015
	add	hl, de
	ld	e, c
	ld	d, #0x00
	add	hl, de
	ld	a, (hl)
;src\tarp.c:1768: if(value>0) _pattern->tone[i]--;
	or	a, a
	jr	Z, 00107$
	dec	a
	ld	(hl), a
00107$:
;src\tarp.c:1765: for(i=0;i<16;i++)
	inc	c
	ld	a, c
	sub	a, #0x10
	jr	C, 00106$
;src\tarp.c:1771: }
	ret
;src\tarp.c:1783: unsigned int getFreq(char value) __naked
;	---------------------------------
; Function getFreq
; ---------------------------------
_getFreq::
;src\tarp.c:1818: __endasm;
	add	A
	ld	D,#0
	ld	E,A
	ld	IY,#VNOTAS
	add	IY,DE
	ld	E,(IY)
	ld	D,1(IY)
	ret
VNOTAS:
	.dw	0
;	Octava 0 (0)
	.dw	0x0D5D,0x0C9C,0x0BE7,0x0B3C,0x0A9B,0x0A02,0x0973,0x08EB,0x086B,0x07F2,0x0780,0x0714
;	Octava 1 (24)
	.dw	0x06AE,0x064E,0x05F4,0x059E,0x054D,0x0501,0x04B9,0x0475,0x0435,0x03F9,0x03C0,0x038A
;	Octava 2 (48)
	.dw	0x0357,0x0327,0x02FA,0x02CF,0x02AF,0x0281,0x025D,0x023B,0x021B,0x01FC,0x01E0,0x01C5
;	Octava 3 (72)
	.dw	0x01AC,0x0194,0x017D,0x0168,0x0153,0x0140,0x012E,0x011D,0x010D,0x00FE,0x00F0,0x00E2
;	Octava 4 (96)
	.dw	0x00D6,0x00CA,0x00BE,0x00B4,0x00AA,0x00A0,0x0097,0x008F,0x0087,0x007F,0x0078,0x0071
;	Octava 5 (120)
	.dw	0x006B,0x0065,0x005F,0x005A,0x0055,0x0050,0x004C,0x0047,0x0043,0x0040,0x003B,0x0039
;	Octava 6 (144)
	.dw	0x0035,0x0032,0x0030,0x002D,0x002A,0x0028,0x0026,0x0024,0x0022,0x0020,0x001E,0x001C
;	Octava 7 (168)
	.dw	0x001B,0x0019,0x0018,0x0016,0x0015,0x0014,0x0013,0x0012,0x0011,0x0010,0x000F,0x000E
;src\tarp.c:1819: }
;src\tarp.c:1832: uint GetVAddressByPosition(char column, char line)
;	---------------------------------
; Function GetVAddressByPosition
; ---------------------------------
_GetVAddressByPosition::
	ld	c, a
;src\tarp.c:1834: return BASE10 + (line*32)+column;
	ld	h, #0x00
;	spillPairReg hl
;	spillPairReg hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	ld	de, #0x1800
	add	hl, de
	ld	b, #0x00
	add	hl, bc
	ex	de, hl
;src\tarp.c:1835: }
	ret
;src\tarp.c:1839: void VPRINT(char column, char line, char* text)
;	---------------------------------
; Function VPRINT
; ---------------------------------
_VPRINT::
;src\tarp.c:1841: unsigned int vaddr = GetVAddressByPosition(column, line);
	call	_GetVAddressByPosition
	ld	c, e
	ld	b, d
;src\tarp.c:1842: VPokeString(vaddr,text);
	pop	hl
	pop	de
	push	de
	push	hl
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	call	_VPokeString
;src\tarp.c:1843: }
	pop	hl
	pop	af
	jp	(hl)
;src\tarp.c:1846: void VPokeString(unsigned int vaddr, char* text)
;	---------------------------------
; Function VPokeString
; ---------------------------------
_VPokeString::
	ld	c, l
	ld	b, h
;src\tarp.c:1848: while(*(text)) VPOKE(vaddr++,*(text++));
00101$:
	ld	a, (de)
	or	a, a
	ret	Z
	inc	de
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	inc	bc
	push	bc
	push	de
	push	af
	inc	sp
	call	_VPOKE
	pop	de
	pop	bc
;src\tarp.c:1849: }
	jr	00101$
;src\tarp.c:1868: void VPrintNum(unsigned int vaddr, unsigned int value, char length)
;	---------------------------------
; Function VPrintNum
; ---------------------------------
_VPrintNum::
	push	ix
	ld	ix,#0
	add	ix,sp
	ld	iy, #-8
	add	iy, sp
	ld	sp, iy
	ld	-2 (ix), l
	ld	-1 (ix), h
	ld	c, e
	ld	b, d
;src\tarp.c:1871: char text[]="     ";
	ld	-8 (ix), #0x20
	ld	-7 (ix), #0x20
	ld	-6 (ix), #0x20
	ld	-5 (ix), #0x20
	ld	-4 (ix), #0x20
	ld	-3 (ix), #0x00
;src\tarp.c:1873: num2Dec16(value, text); 
	ld	hl, #0
	add	hl, sp
	ex	de, hl
	ld	l, c
;	spillPairReg hl
;	spillPairReg hl
	ld	h, b
;	spillPairReg hl
;	spillPairReg hl
	call	_num2Dec16
;src\tarp.c:1876: CopyToVRAM((unsigned int) text + (5-length), vaddr, length);
	ld	c, 4 (ix)
	ld	b, #0x00
	ld	hl, #0
	add	hl, sp
	ld	e, 4 (ix)
	ld	d, #0x00
	ld	a, #0x05
	sub	a, e
	ld	e, a
	sbc	a, a
	sub	a, d
	ld	d, a
	add	hl, de
	push	bc
	ld	e, -2 (ix)
	ld	d, -1 (ix)
	call	_CopyToVRAM
;src\tarp.c:1877: }
	ld	sp, ix
	pop	ix
	pop	hl
	inc	sp
	jp	(hl)
;src\tarp.c:1882: void num2Dec16(unsigned int value, char *address)	__naked
;	---------------------------------
; Function num2Dec16
; ---------------------------------
_num2Dec16::
;src\tarp.c:1914: __endasm;
	ld	BC,#-10000
	call	$Num1
	ld	BC,#-1000
	call	$Num1
	ld	BC,#-100
	call	$Num1
	ld	C,#-10
	call	$Num1
	ld	C,B
	call	$Num1
	ret
$Num1:
	ld	A,#-1 ;ASCII-1 47
$Num2:
	inc	A
	add	HL,BC
	jr	C,$Num2
	sbc	HL,BC
	ld	(DE),A
	inc	DE
	ret
;src\tarp.c:1915: }
;src\tarp.c:1920: void GUI_switcher(uint vaddr, boolean value)
;	---------------------------------
; Function GUI_switcher
; ---------------------------------
_GUI_switcher::
	push	ix
	ld	ix,#0
	add	ix,sp
;src\tarp.c:1924: VPOKE(vaddr++,GUI_SWITCHER_ON);
	ld	e, l
	ld	d, h
	inc	de
;src\tarp.c:1922: if(value==true)
	bit	0, 4 (ix)
	jr	Z, 00102$
;src\tarp.c:1924: VPOKE(vaddr++,GUI_SWITCHER_ON);
	push	de
	ld	a, #0xdd
	push	af
	inc	sp
	call	_VPOKE
	pop	de
;src\tarp.c:1925: VPOKE(vaddr,GUI_SWITCHER);
	ld	a, #0xdf
	push	af
	inc	sp
	ex	de, hl
	call	_VPOKE
	jr	00104$
00102$:
;src\tarp.c:1927: VPOKE(vaddr++,GUI_SWITCHER);
	push	de
	ld	a, #0xdf
	push	af
	inc	sp
	call	_VPOKE
	pop	de
;src\tarp.c:1928: VPOKE(vaddr,GUI_SWITCHER_OFF);
	ld	a, #0xde
	push	af
	inc	sp
	ex	de, hl
	call	_VPOKE
00104$:
;src\tarp.c:1930: }
	pop	ix
	pop	hl
	inc	sp
	jp	(hl)
;src\tarp.c:1935: void showEnv(void)
;	---------------------------------
; Function showEnv
; ---------------------------------
_showEnv::
;src\tarp.c:1937: char value = _pattern->Envelope;
	ld	hl, (__pattern)
	ld	de, #0x0004
	add	hl, de
	ld	c, (hl)
;src\tarp.c:1940: GUI_switcher(GUI_ENVLOOP_VADDR,envelope_list[value].isLoop);
	ld	b, #0x00
	ld	l, c
	ld	h, b
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, bc
	ld	de, #_envelope_list
	add	hl, de
	ld	a, (hl)
	push	bc
	push	af
	inc	sp
	ld	hl, #0x1a29
	call	_GUI_switcher
	pop	bc
;src\tarp.c:1942: VPrintNum(vaddr+2, value, 1);
	ld	e, c
	ld	d, #0x00
	push	bc
	ld	a, #0x01
	push	af
	inc	sp
	ld	hl, #0x1a08
	call	_VPrintNum
	pop	bc
;src\tarp.c:1944: value=value*2+192;
	ld	a, c
	add	a, a
	add	a, #0xc0
;src\tarp.c:1945: VPOKE(vaddr++,value++);
	ld	b, a
	ld	d, a
	inc	d
	push	de
	push	bc
	inc	sp
	ld	hl, #0x1a06
	call	_VPOKE
	inc	sp
	ld	hl, #0x1a07
	call	_VPOKE
;src\tarp.c:1947: }
	ret
;src\tarp.c:1952: void showSpeaker(uint vaddr, boolean value)
;	---------------------------------
; Function showSpeaker
; ---------------------------------
_showSpeaker::
;src\tarp.c:1954: if(value==true) VPOKE(vaddr,GUI_SPEAKER_ON);
	ld	iy, #2
	add	iy, sp
	bit	0, 0 (iy)
	jr	Z, 00102$
	ld	a, #0xd9
	push	af
	inc	sp
	call	_VPOKE
	jr	00104$
00102$:
;src\tarp.c:1955: else VPOKE(vaddr,GUI_SPEAKER_OFF);
	ld	a, #0xd8
	push	af
	inc	sp
	call	_VPOKE
00104$:
;src\tarp.c:1956: }
	pop	hl
	inc	sp
	jp	(hl)
;src\tarp.c:1961: void initHelpText(void) __naked
;	---------------------------------
; Function initHelpText
; ---------------------------------
_initHelpText::
;src\tarp.c:2028: __endasm;
	ld	HL,#HELP_TEXT
	ld	DE,#_HELP_TXTADDR
	jp	unRLEWBRAM
;	map size width:29 height:36
;	RLE WB compressed - Original size= 1044 - Compress size= 857
HELP_TEXT:
	.db	0x4B,0x65,0x79,0x20,0x4C,0x69,0x73,0x74,0x80,0x14,0x20,0x80,0x1C,0x2D,0x8D,0x81
	.db	0x89,0x8E,0x20,0x93,0x83,0x92,0x85,0x85,0x8E,0x9B,0x80,0x10,0x20,0x2D,0x5B,0x55
	.db	0x70,0x5D,0x20,0x4D,0x65,0x6E,0x75,0x20,0x63,0x75,0x72,0x73,0x6F,0x72,0x20,0x75
	.db	0x70,0x80,0x08,0x20,0x2D,0x5B,0x44,0x6F,0x77,0x6E,0x5D,0x20,0x4D,0x65,0x6E,0x75
	.db	0x20,0x63,0x75,0x72,0x73,0x6F,0x72,0x20,0x64,0x6F,0x77,0x6E,0x80,0x04,0x20,0x2D
	.db	0x5B,0x4C,0x65,0x66,0x74,0x5D,0x20,0x53,0x77,0x69,0x74,0x63,0x68,0x20,0x6C,0x65
	.db	0x66,0x74,0x20,0x6F,0x72,0x80,0x07,0x20,0x64,0x65,0x63,0x72,0x65,0x61,0x73,0x65
	.db	0x20,0x76,0x61,0x6C,0x75,0x65,0x2E,0x80,0x0C,0x20,0x2D,0x5B,0x52,0x69,0x67,0x68
	.db	0x74,0x5D,0x20,0x53,0x77,0x69,0x74,0x63,0x68,0x20,0x72,0x69,0x67,0x68,0x74,0x20
	.db	0x6F,0x72,0x80,0x05,0x20,0x69,0x6E,0x63,0x72,0x65,0x61,0x73,0x65,0x20,0x76,0x61
	.db	0x6C,0x75,0x65,0x2E,0x80,0x0C,0x20,0x2D,0x5B,0x53,0x50,0x41,0x43,0x45,0x5D,0x20
	.db	0x6F,0x72,0x20,0x4A,0x6F,0x79,0x73,0x74,0x69,0x63,0x6B,0x20,0x42,0x75,0x74,0x74
	.db	0x6F,0x6E,0x80,0x02,0x20,0x41,0x63,0x74,0x75,0x61,0x74,0x65,0x20,0x74,0x68,0x65
	.db	0x20,0x72,0x61,0x6E,0x64,0x6F,0x6D,0x20,0x62,0x75,0x74,0x74,0x6F,0x6E,0x73,0x80
	.db	0x02,0x20,0x6F,0x72,0x20,0x74,0x68,0x65,0x20,0x73,0x77,0x69,0x74,0x63,0x68,0x65
	.db	0x72,0x73,0x2E,0x80,0x0A,0x20,0x2D,0x5B,0x52,0x45,0x54,0x55,0x52,0x4E,0x5D,0x20
	.db	0x50,0x6C,0x61,0x79,0x62,0x61,0x63,0x6B,0x20,0x6D,0x6F,0x64,0x65,0x80,0x05,0x20
	.db	0x2D,0x5B,0x53,0x54,0x4F,0x50,0x5D,0x20,0x53,0x74,0x6F,0x70,0x20,0x70,0x61,0x74
	.db	0x74,0x65,0x72,0x6E,0x20,0x70,0x6C,0x61,0x79,0x62,0x61,0x63,0x6B,0x2D,0x5B,0x46
	.db	0x31,0x5D,0x9D,0x52,0x68,0x79,0x74,0x68,0x6D,0x20,0x63,0x68,0x61,0x6E,0x6E,0x65
	.db	0x6C,0x20,0x4F,0x6E,0x2F,0x4F,0x66,0x66,0x20,0x20,0x2D,0x5B,0x46,0x32,0x5D,0x9C
	.db	0x4D,0x65,0x6C,0x6F,0x64,0x79,0x20,0x63,0x68,0x61,0x6E,0x6E,0x65,0x6C,0x20,0x4F
	.db	0x6E,0x2F,0x4F,0x66,0x66,0x20,0x20,0x2D,0x5B,0x54,0x41,0x42,0x5D,0x20,0x52,0x61
	.db	0x6E,0x64,0x6F,0x6D,0x20,0x52,0x68,0x79,0x74,0x68,0x6D,0x20,0x26,0x20,0x4D,0x65
	.db	0x6C,0x6F,0x64,0x79,0x2D,0x5B,0x43,0x54,0x52,0x4C,0x5D,0x20,0x52,0x61,0x6E,0x64
	.db	0x6F,0x6D,0x20,0x52,0x68,0x79,0x74,0x68,0x6D,0x20,0x70,0x61,0x74,0x74,0x65,0x72
	.db	0x6E,0x2D,0x5B,0x53,0x48,0x49,0x46,0x54,0x5D,0x52,0x61,0x6E,0x64,0x6F,0x6D,0x20
	.db	0x4D,0x65,0x6C,0x6F,0x64,0x79,0x20,0x70,0x61,0x74,0x74,0x65,0x72,0x6E,0x2D,0x5B
	.db	0x31,0x5D,0x20,0x4C,0x6F,0x6F,0x70,0x20,0x66,0x69,0x72,0x73,0x74,0x20,0x32,0x20
	.db	0x73,0x74,0x65,0x70,0x73,0x80,0x05,0x20,0x2D,0x5B,0x32,0x5D,0x20,0x4C,0x6F,0x6F
	.db	0x70,0x20,0x66,0x69,0x72,0x73,0x74,0x20,0x34,0x20,0x73,0x74,0x65,0x70,0x73,0x80
	.db	0x05,0x20,0x2D,0x5B,0x33,0x5D,0x20,0x4C,0x6F,0x6F,0x70,0x20,0x66,0x69,0x72,0x73
	.db	0x74,0x20,0x38,0x20,0x73,0x74,0x65,0x70,0x73,0x80,0x05,0x20,0x2D,0x5B,0x34,0x5D
	.db	0x20,0x52,0x65,0x73,0x74,0x6F,0x72,0x65,0x20,0x74,0x6F,0x20,0x31,0x36,0x20,0x73
	.db	0x74,0x65,0x70,0x73,0x80,0x04,0x20,0x2D,0x5B,0x42,0x53,0x5D,0x20,0x53,0x77,0x61
	.db	0x70,0x20,0x70,0x61,0x74,0x74,0x65,0x72,0x6E,0x73,0x20,0x41,0x20,0x61,0x6E,0x64
	.db	0x20,0x42,0x20,0x20,0x2D,0x5B,0x47,0x52,0x41,0x50,0x48,0x5D,0x20,0x43,0x6F,0x70
	.db	0x79,0x20,0x63,0x75,0x72,0x72,0x65,0x6E,0x74,0x20,0x70,0x61,0x74,0x74,0x65,0x72
	.db	0x6E,0x2D,0x5B,0x53,0x45,0x4C,0x45,0x43,0x54,0x5D,0x20,0x43,0x68,0x61,0x6E,0x67
	.db	0x65,0x20,0x44,0x72,0x75,0x6D,0x20,0x4B,0x69,0x74,0x80,0x03,0x20,0x2D,0x5B,0x49
	.db	0x6E,0x73,0x5D,0x20,0x4F,0x63,0x74,0x61,0x76,0x65,0x20,0x55,0x70,0x80,0x0C,0x20
	.db	0x2D,0x5B,0x44,0x65,0x6C,0x5D,0x20,0x4F,0x63,0x74,0x61,0x76,0x65,0x20,0x44,0x6F
	.db	0x77,0x6E,0x80,0x0A,0x20,0x2D,0x5B,0x2C,0x5D,0x20,0x54,0x72,0x61,0x6E,0x73,0x70
	.db	0x6F,0x73,0x65,0x20,0x70,0x61,0x74,0x74,0x65,0x72,0x6E,0x20,0x44,0x6F,0x77,0x6E
	.db	0x20,0x20,0x2D,0x5B,0x2E,0x5D,0x20,0x54,0x72,0x61,0x6E,0x73,0x70,0x6F,0x73,0x65
	.db	0x20,0x70,0x61,0x74,0x74,0x65,0x72,0x6E,0x20,0x55,0x70,0x80,0x03,0x20,0x2D,0x5B
	.db	0x48,0x4F,0x4D,0x45,0x5D,0x20,0x53,0x68,0x6F,0x77,0x20,0x48,0x65,0x6C,0x70,0x20
	.db	0x73,0x63,0x72,0x65,0x65,0x6E,0x80,0x21,0x20,0x88,0x85,0x8C,0x90,0x20,0x93,0x83
	.db	0x92,0x85,0x85,0x8E,0x9B,0x80,0x10,0x20,0x2D,0x5B,0x55,0x70,0x5D,0x20,0x55,0x70
	.db	0x20,0x73,0x63,0x72,0x6F,0x6C,0x6C,0x20,0x74,0x65,0x78,0x74,0x80,0x08,0x20,0x2D
	.db	0x5B,0x44,0x6F,0x77,0x6E,0x5D,0x20,0x44,0x6F,0x77,0x6E,0x20,0x73,0x63,0x72,0x6F
	.db	0x6C,0x6C,0x20,0x74,0x65,0x78,0x74,0x80,0x04,0x20,0x2D,0x5B,0x45,0x53,0x43,0x5D
	.db	0x20,0x52,0x65,0x74,0x75,0x72,0x6E,0x20,0x74,0x6F,0x20,0x6D,0x61,0x69,0x6E,0x20
	.db	0x73,0x63,0x72,0x65,0x65,0x6E,0x20,0x80,0xFF
;src\tarp.c:2029: }
;src\tarp.c:2033: void showHelpText(char line) __naked
;	---------------------------------
; Function showHelpText
; ---------------------------------
_showHelpText::
;src\tarp.c:2091: __endasm;
	ld	E,A
	ld	D,#0
	ld	BC,#29
	call	Mult16 ; HL = BC*DE
	ld	DE,#_HELP_TXTADDR
	add	HL,DE
	ld	DE,#0x1800 + (3*32)+1 ;VRAM address
	ld	B,#20
printAline:
	push	BC
	push	HL
	push	DE
	ld	BC,#29 ; line size
	call	0x005C
	pop	DE
	ex	DE,HL
	ld	DE,#32
	add	HL,DE
	ex	DE,HL
	pop	HL
	ld	BC,#29
	add	HL,BC
	pop	BC
	djnz	printAline
	ret
Mult16:
	ld	A,B
	ld	B,#16
Mult16_Loop:
	add	HL,HL
	sla	C
	rla
	jr	NC,Mult16_NoAdd
	add	HL,DE
Mult16_NoAdd:
	djnz	Mult16_Loop
	ret
;src\tarp.c:2092: }
;src\tarp.c:2096: void showScrollbar(char line)
;	---------------------------------
; Function showScrollbar
; ---------------------------------
_showScrollbar::
	push	ix
	ld	ix,#0
	add	ix,sp
	push	af
	dec	sp
;src\tarp.c:2105: barrPos =(line<<4)>>1;
	ld	h, #0x00
;	spillPairReg hl
;	spillPairReg hl
	ld	l, a
	add	hl, hl
	add	hl, hl
	add	hl, hl
	add	hl, hl
	sra	h
	rr	l
	ld	a, l
;src\tarp.c:2106: barrPos = barrPos>>4;
	rlca
	rlca
	rlca
	rlca
	and	a, #0x0f
	ld	-3 (ix), a
;src\tarp.c:2112: for (i=0;i<20;i++)
	ld	-2 (ix), #0x00
	ld	hl, #0x187f
	ld	-1 (ix), #0x00
00111$:
;src\tarp.c:2114: if(i>=barrPos)
	ld	a, -1 (ix)
	sub	a, -3 (ix)
	jr	C, 00105$
;src\tarp.c:2116: if(size<HELP_sizeBar)
	ld	a, -2 (ix)
	sub	a, #0x0c
	jr	NC, 00102$
;src\tarp.c:2118: writeBar=true;
	ld	c, #0x01
;src\tarp.c:2119: size++;
	inc	-2 (ix)
	jr	00106$
00102$:
;src\tarp.c:2121: else writeBar=false;
	ld	c, #0x00
	jr	00106$
00105$:
;src\tarp.c:2123: else writeBar=false;
	ld	c, #0x00
00106$:
;src\tarp.c:2125: if(writeBar) VPOKE(vaddr,GUI_SCROLLBAR); 
	bit	0, c
	jr	Z, 00108$
	push	hl
	ld	a, #0x7f
	push	af
	inc	sp
	call	_VPOKE
	pop	hl
	jr	00109$
00108$:
;src\tarp.c:2126: else VPOKE(vaddr,GUI_SCROLLBAR_EMPTY);
	push	hl
	ld	a, #0x7e
	push	af
	inc	sp
	call	_VPOKE
	pop	hl
00109$:
;src\tarp.c:2127: vaddr+=32;
	ld	bc, #0x0020
	add	hl, bc
;src\tarp.c:2112: for (i=0;i<20;i++)
	inc	-1 (ix)
	ld	a, -1 (ix)
	sub	a, #0x14
	jr	C, 00111$
;src\tarp.c:2132: }
	ld	sp, ix
	pop	ix
	ret
;src\tarp.c:2136: void showLogoScreen(void) __naked
;	---------------------------------
; Function showLogoScreen
; ---------------------------------
_showLogoScreen::
;src\tarp.c:2293: __endasm;
	ld	HL,#titlescreen_PAT
	ld	DE,#0x0000
	call	unRLEWBVRAM
	ld	HL,#titlescreen_COL
	ld	DE,#0x2000
	call	unRLEWBVRAM
	ld	HL,#titlescreen_SPRPATTERNS
	ld	DE,#0x3800
	jp	unRLEWBVRAM
;	Project: The Alan Random Project (TARP)
;	Picture: TARP_titlescreen_BG
;	RLE WB compressed - Original size= 6144 - Final size= 1270
titlescreen_PAT:
	.db	0x80,0x03,0xFF,0x03,0x03,0x80,0x05,0x00,0xF6,0xF6,0xC7,0xC7,0x80,0x05,0x00,0x87
	.db	0xCF,0x80,0x06,0x00,0x80,0x00,0x80,0x03,0x00,0x1C,0x1C,0x36,0x37,0x80,0x03,0x00
	.db	0x38,0x38,0x18,0x18,0x80,0x05,0x00,0x39,0x3D,0x80,0x05,0x00,0xE0,0xF0,0x80,0x03
	.db	0x00,0x07,0x07,0x06,0x06,0x80,0x03,0x00,0x80,0x00,0x80,0x00,0xC3,0xE3,0x80,0x05
	.db	0x00,0x9E,0xDF,0x80,0x03,0x00,0x03,0x03,0x0F,0x1F,0x80,0x05,0x00,0x38,0x7C,0x80
	.db	0x05,0x00,0xC4,0xEE,0x80,0x05,0x00,0x70,0xF0,0x80,0x03,0x00,0x80,0x03,0x03,0x80
	.db	0x03,0x00,0xC0,0xC0,0x67,0x77,0x80,0x05,0x00,0xC7,0xEF,0x80,0x03,0x00,0x03,0x03
	.db	0x00,0x83,0x80,0x05,0x00,0x1C,0x3E,0x80,0x05,0x00,0x38,0x7C,0x80,0x03,0x00,0x30
	.db	0x30,0x78,0x78,0x80,0x57,0x00,0x80,0x07,0xC6,0xCD,0x6F,0x6F,0x80,0x02,0x6C,0x6F
	.db	0x67,0x80,0x02,0x80,0x00,0x00,0xC0,0xC0,0x80,0x00,0x33,0x3F,0x3F,0x80,0x04,0x33
	.db	0x80,0x05,0x18,0x7E,0x7E,0x0D,0x7D,0x7D,0x80,0x02,0xCD,0xFD,0x7D,0xB0,0x80,0x06
	.db	0x98,0x80,0x02,0x06,0x07,0x07,0x80,0x02,0x06,0x60,0x67,0x67,0xCC,0xCC,0x8C,0xCF
	.db	0xC7,0xDB,0x80,0x06,0xD9,0x1B,0x80,0x04,0xB3,0xBF,0x9F,0x6C,0x80,0x04,0x66,0x7E
	.db	0x3C,0x80,0x02,0xFE,0xD6,0xD6,0x80,0x02,0xC6,0xC0,0x78,0x78,0x0C,0x0C,0xCC,0xFC
	.db	0x78,0x80,0x07,0x03,0x80,0x02,0x36,0xE6,0xE6,0x80,0x02,0x06,0x6D,0x80,0x04,0x0C
	.db	0x0F,0x07,0x83,0x80,0x04,0xC3,0xCB,0x8B,0x36,0x3E,0x3E,0x30,0x30,0x33,0x3F,0x1E
	.db	0x64,0x80,0x03,0x60,0x66,0x7E,0x3C,0x80,0x04,0x30,0x34,0x3C,0x18,0x80,0x97,0x00
	.db	0x60,0x60,0x80,0x45,0x00,0x06,0x06,0x80,0xFE,0x00,0x80,0xFE,0x00,0x80,0x2D,0x00
	.db	0x01,0x03,0x80,0x04,0x00,0x07,0xFF,0xFF,0x80,0x03,0x00,0x80,0x03,0xFF,0x80,0x03
	.db	0x00,0x80,0x03,0xFF,0x80,0x04,0x00,0xF0,0xFF,0xFF,0x80,0x06,0x00,0xC0,0x80,0xCA
	.db	0x00,0x03,0x07,0x0F,0x1F,0x3F,0x1F,0x3F,0x80,0x25,0xFF,0xF0,0xF8,0xFC,0xFE,0x80
	.db	0x03,0xFF,0x80,0x04,0x00,0x80,0x00,0x80,0x00,0xC0,0x80,0xBA,0x00,0x01,0x01,0x03
	.db	0x07,0x06,0x7F,0x7F,0x80,0x03,0xFF,0xBF,0x3F,0x80,0x2F,0xFF,0xE0,0xE0,0x80,0x02
	.db	0xF0,0xF8,0xF8,0xFC,0x80,0x5B,0x00,0x03,0x0F,0x1F,0x1F,0x80,0x02,0x00,0x70,0xFC
	.db	0x80,0x02,0xFF,0x80,0x05,0x00,0x80,0x00,0x80,0x00,0x00,0x00,0x07,0x1F,0x3F,0x7F
	.db	0x7F,0xFE,0xFF,0xFF,0xE0,0xF8,0xFC,0xFC,0xFE,0x3F,0x80,0x37,0xFF,0x06,0x04,0x04
	.db	0x80,0x04,0x08,0xC0,0x80,0x06,0x80,0x80,0x2F,0x00,0x80,0x03,0x03,0x80,0x03,0x01
	.db	0x80,0x57,0xFF,0x80,0x04,0xC0,0xE0,0xE0,0xF0,0x00,0x8F,0x80,0x02,0x07,0x8F,0xFF
	.db	0x01,0x80,0x03,0x3F,0x7F,0x7F,0xFF,0xFF,0x80,0x02,0xFC,0xFE,0x80,0x00,0xC0,0xE0
	.db	0xF0,0x80,0x02,0x1F,0x3F,0x01,0x01,0x03,0x07,0x80,0x37,0xFF,0x08,0x00,0x80,0x03
	.db	0x08,0x00,0x08,0x80,0x07,0x80,0x80,0x2F,0x00,0x01,0x80,0x06,0x00,0x80,0x57,0xFF
	.db	0x80,0x07,0x01,0x80,0x06,0xFC,0x01,0x80,0x03,0xFF,0x00,0x00,0x7F,0xC1,0x80,0x03
	.db	0x07,0x80,0x02,0x0F,0x03,0x0F,0x80,0x02,0x1F,0x3F,0x3F,0xC0,0xC0,0x80,0x37,0x00
	.db	0x08,0x00,0x00,0x04,0x04,0x80,0x02,0x00,0x80,0x02,0x80,0x80,0x02,0xC0,0xE0,0xE0
	.db	0x80,0x31,0x00,0x80,0x04,0x01,0x03,0x80,0x51,0xFF,0xFC,0xF0,0xE0,0xE0,0xC0,0xC0
	.db	0xFC,0xF8,0x70,0x03,0x07,0x0F,0x1F,0x3F,0x02,0x80,0x0E,0x00,0x20,0x80,0x06,0x00
	.db	0x3F,0x1C,0xC0,0xE0,0xF0,0xF8,0xF8,0xFC,0xFF,0x1F,0x0F,0x07,0x03,0x03,0x01,0x01
	.db	0x80,0x37,0xFF,0x80,0x02,0x0F,0x07,0x07,0x03,0x03,0x01,0x80,0x2F,0xFF,0xFC,0xFC
	.db	0xF8,0xF8,0xF0,0xE0,0xC0,0x80,0x00,0x80,0x4F,0x00,0x80,0x03,0xC0,0xE0,0xF8,0xFE
	.db	0x01,0x3F,0x7F,0x7F,0x80,0x03,0x80,0x80,0x05,0x00,0xFE,0xFE,0x80,0x06,0xFF,0x7F
	.db	0x3F,0x80,0x03,0xFF,0xEF,0xEF,0xCF,0x9F,0xFE,0xFE,0x80,0x02,0x01,0x80,0x02,0x00
	.db	0x80,0x02,0x01,0x03,0x07,0x1F,0xC0,0xC0,0x80,0x3F,0x00,0xFF,0x80,0x00,0xE0,0xF0
	.db	0xF8,0xFC,0xFF,0xFF,0x80,0x06,0x00,0xF0,0x80,0x0E,0x00,0x01,0x80,0x04,0x00,0x01
	.db	0x0F,0xFF,0x00,0x01,0x03,0x0F,0x7F,0x80,0x58,0xFF,0x01,0x1F,0x80,0x03,0x01,0x03
	.db	0x1F,0x07,0x3F,0x80,0x0F,0xFF,0x8E,0xE0,0x80,0x05,0xFF,0x3F,0x80,0x0E,0xFF,0xC0
	.db	0xC0,0xE0,0xE0,0xFF,0x80,0x00,0x80,0x05,0xFF,0x07,0x00,0xE0,0x01,0x80,0x04,0xFF
	.db	0x80,0x00,0xF0,0xFC,0x80,0xA8,0x00,0x01,0x80,0x02,0x03,0x80,0x02,0x07,0x03,0x1F
	.db	0x3F,0x7F,0x80,0x00,0x80,0x09,0x00,0xC0,0x80,0x06,0xFF,0x80,0x00,0x80,0x14,0x00
	.db	0x09,0x1D,0x14,0x80,0x04,0x00,0x10,0xB0,0xE0,0x80,0x05,0x00,0x3F,0x7F,0x80,0x05
	.db	0x00,0xF8,0xFE,0x0F,0x03,0x01,0x01,0x80,0x03,0x00,0xFF,0x80,0x00,0x80,0x00,0x80
	.db	0x04,0xC0,0x80,0x9F,0x00,0x80,0x07,0x07,0x80,0x07,0xFF,0x80,0x00,0xF0,0xE0,0x80
	.db	0x02,0xC0,0xE0,0xE0,0x80,0x07,0x80,0x80,0x0F,0x00,0x3E,0x22,0x22,0x80,0x04,0x00
	.db	0x80,0x02,0x40,0x80,0x04,0x00,0x80,0x07,0xE0,0x0F,0x07,0x80,0x05,0x03,0x80,0x07
	.db	0xFF,0x80,0x06,0xC0,0x80,0x00,0x80,0x9F,0x00,0x03,0x03,0x01,0x01,0x80,0x03,0x00
	.db	0x80,0x00,0x80,0x00,0xC0,0xE1,0xFF,0xC0,0xFF,0xFF,0x80,0x02,0x0E,0x1E,0x3E,0x7E
	.db	0xFE,0xFE,0x80,0x07,0x80,0x80,0x1F,0x00,0x80,0x06,0xE0,0xFC,0x03,0x01,0x01,0x80
	.db	0x04,0x00,0x81,0x83,0x01,0x87,0x80,0x03,0xFF,0x7F,0x80,0xB6,0xFF,0x80,0x07,0xFC
	.db	0x80,0x00,0x80,0x14,0x00,0xC0,0x80,0x00,0x80,0x05,0xFF,0x07,0x01,0x80,0x07,0xFF
	.db	0x01,0x0F,0x07,0x80,0x02,0x03,0x01,0x01,0x80,0x03,0xFF,0x80,0x03,0x80,0x80,0xBF
	.db	0x00,0x80,0x07,0x03,0x80,0x04,0xFF,0x80,0x02,0x80,0x00,0x80,0x06,0x01,0xE0,0xC0
	.db	0x80,0x05,0x80,0x0F,0x07,0x03,0x03,0x80,0x03,0x01,0xFF,0xFF,0x80,0x05,0x80,0x80
	.db	0x07,0x01,0x80,0x07,0x80,0x80,0xA5,0x00,0x01,0x7F,0x80,0x04,0x00,0x1F,0x03,0x80
	.db	0x04,0xFF,0x0F,0x01,0x80,0x04,0xFF,0x0F,0x80,0x03,0xFF,0x01,0x00,0x00,0xFF,0x80
	.db	0x00,0x80,0x02,0x00,0xC0,0xF0,0x80,0x00,0x00,0x80,0x03,0xFF,0x03,0xC0,0x80,0x0D
	.db	0xFF,0x80,0x02,0x01,0xFF,0xFF,0xE0,0xF8,0xFE,0x80,0x05,0x80,0xC0,0xE0,0x80,0x05
	.db	0x01,0x03,0x07,0x80,0x04,0x80,0x03,0x07,0x00,0x80,0x05,0xFF,0x01,0x01,0x80,0x06
	.db	0xFF,0x01,0x80,0x75,0xFF,0xF8,0xC0,0x80,0x03,0xFF,0xF0,0x07,0x3F,0x80,0x02,0xFF
	.db	0x0F,0x0F,0x80,0x03,0xFF,0x0F,0xFF,0x80,0x00,0x80,0x04,0x00,0xE0,0x80,0x3E,0x00
	.db	0x01,0x80,0x06,0x00,0x80,0x00,0xC0,0x80,0x00,0x80,0x04,0xFF,0x01,0x07,0x0F,0x80
	.db	0x14,0xFF,0xFE,0x80,0x06,0xFF,0x07,0x07,0x80,0x05,0x00,0xFF,0xF0,0xC0,0xFE,0x80
	.db	0x05,0xFF,0xC0,0xFE,0x07,0x80,0x02,0x00,0x80,0x03,0xFF,0xF0,0x80,0x00,0xF8,0x80
	.db	0x06,0xFF,0x03,0xE0,0x80,0x06,0xFF,0xE0,0x80,0x3F,0x00,0x07,0x3F,0x80,0xB5,0xFF
	.db	0x80,0x00,0xF0,0x80,0x06,0xFF,0xF0,0x80,0x00,0xF0,0x80,0x06,0xFF,0xF0,0xFE,0xF0
	.db	0x80,0x06,0xFF,0x07,0x01,0xE0,0x80,0x06,0xFF,0x80,0x00,0x80,0x1F,0x00,0x80,0xCF
	.db	0xFF,0x01,0x80,0x06,0x00,0x03,0xE0,0xFC,0x80,0x05,0xFF,0x80,0x00,0xFC,0x80,0x00
	.db	0xF0,0xFE,0x80,0x04,0xFF,0x80,0x00,0xF0,0xFF,0xC0,0xF0,0x80,0x05,0xFF,0xE0,0xF8
	.db	0x80,0x07,0x00,0x80,0xF0,0xFF,0xC0,0xF0,0xFE,0x80,0x04,0xFF,0xF0,0xFF,0xFF,0xC0
	.db	0xF0,0xFC,0x80,0xE0,0xFF,0x00,0x00,0x3C,0x80,0x03,0x2A,0x80,0x02,0x00,0x8B,0x88
	.db	0x89,0x52,0x21,0x80,0x02,0x00,0xC7,0x28,0xE8,0x28,0xE7,0x00,0x00,0x87,0xF7,0xF7
	.db	0xEF,0xDF,0xDF,0xFF,0x80,0xFF
;
;	RLE WB compressed - Original size= 6144 - Final size= 497
titlescreen_COL:
	.db	0x80,0x03,0x41,0x80,0xFE,0xF4,0x80,0xFE,0xF4,0x80,0xFE,0xF4,0x80,0xFE,0xF4,0x80
	.db	0xBD,0xF4,0x80,0xFE,0x74,0x80,0xFE,0x74,0x80,0x8F,0x74,0x80,0x1A,0x34,0x31,0x41
	.db	0x41,0x80,0x04,0x34,0x31,0x80,0x37,0x41,0x80,0x04,0x74,0x54,0x74,0x54,0x80,0x97
	.db	0x47,0x80,0x08,0x43,0x80,0x05,0x31,0x80,0x08,0x43,0x80,0x03,0x31,0x80,0x03,0x43
	.db	0x80,0x03,0x31,0x80,0x3B,0x43,0x80,0x07,0x54,0x80,0x97,0x47,0x80,0x0C,0x34,0x31
	.db	0x31,0x23,0x80,0x05,0x41,0xC1,0x23,0x80,0x04,0x34,0x31,0x31,0x32,0x80,0x05,0x43
	.db	0x80,0x39,0x24,0x80,0x07,0x54,0x80,0x91,0x47,0x80,0x08,0x41,0x80,0x04,0x31,0x80
	.db	0x17,0x23,0x41,0x41,0x80,0x05,0x31,0x80,0x3F,0x41,0x80,0x8F,0x74,0x80,0x06,0x41
	.db	0xC4,0x80,0x02,0x31,0x80,0x02,0xC3,0x80,0x06,0x23,0x80,0x14,0x31,0xC3,0xC3,0x80
	.db	0x03,0x23,0x80,0x05,0x41,0x80,0x41,0xC4,0x71,0x80,0x84,0x47,0x80,0x07,0xC4,0x80
	.db	0x11,0x3C,0x80,0x17,0x31,0x80,0x04,0xC4,0x2C,0x31,0x31,0x80,0x03,0x41,0x4C,0x4C
	.db	0x3C,0x23,0x80,0x04,0x41,0x80,0xB2,0xC4,0x80,0x03,0x3C,0x80,0x0A,0x23,0x80,0x07
	.db	0x3C,0x80,0x15,0x23,0x80,0x1D,0xC3,0x80,0x04,0x23,0x41,0x80,0xAE,0xC4,0x80,0x07
	.db	0x31,0x2C,0x80,0x06,0xC4,0x80,0x27,0xC3,0x80,0x0F,0xC4,0x80,0x07,0x31,0x80,0xAF
	.db	0xC4,0x23,0x80,0x03,0xC3,0x80,0x0A,0x4C,0x80,0x27,0xC3,0x80,0x0F,0xC4,0x23,0xC3
	.db	0x80,0xC5,0x4C,0x80,0x15,0x23,0x80,0x11,0x3C,0x4C,0x80,0x06,0xC3,0x80,0x03,0x41
	.db	0x80,0xCB,0xC4,0x80,0x04,0x31,0x23,0x80,0x02,0xC3,0x23,0x80,0x05,0xC3,0x80,0x0F
	.db	0xC4,0x31,0x31,0x23,0x80,0x0C,0xC3,0x80,0xAD,0xC4,0x80,0x07,0x64,0x96,0x96,0x80
	.db	0x03,0x41,0x64,0x80,0x02,0x96,0x80,0x02,0x41,0x64,0x64,0x80,0x02,0x91,0x80,0x02
	.db	0xC4,0x61,0x80,0x03,0x69,0xC3,0xC2,0x46,0x46,0x80,0x03,0x91,0xC3,0x2C,0x61,0x61
	.db	0x80,0x03,0x91,0x41,0x41,0x61,0x61,0x80,0x03,0x91,0x80,0x02,0xC4,0x61,0x61,0x80
	.db	0x02,0x96,0x80,0x0F,0xC3,0x80,0x04,0xC4,0x46,0x69,0x69,0x80,0x05,0x41,0x46,0x69
	.db	0x80,0x06,0x41,0x80,0x7D,0x46,0x80,0x02,0x96,0x41,0x41,0x64,0x80,0x04,0x96,0x64
	.db	0x64,0x80,0x4D,0x69,0x6C,0x6C,0x80,0x05,0x96,0x9C,0x9C,0x80,0x1D,0x96,0x46,0x80
	.db	0x06,0x69,0x41,0x64,0x80,0x05,0x96,0x41,0x41,0x64,0x64,0x80,0x03,0x69,0x80,0x03
	.db	0x41,0x64,0x80,0x02,0x96,0x80,0x05,0x41,0x46,0x96,0x80,0x06,0x41,0x80,0x40,0x64
	.db	0x80,0xBF,0x96,0x41,0x64,0x80,0x05,0x96,0x80,0x02,0x41,0x64,0x64,0x80,0x02,0x96
	.db	0x80,0x04,0x41,0x46,0x46,0x96,0x80,0x06,0x41,0x80,0x20,0x64,0x80,0xCF,0x91,0x80
	.db	0x07,0x69,0x46,0x80,0x06,0x96,0x41,0x64,0x64,0x80,0x04,0x96,0x80,0x02,0x41,0x80
	.db	0x02,0x64,0x96,0x96,0x80,0x05,0x41,0x80,0x09,0x64,0x80,0xEF,0x91,0x61,0x80,0x06
	.db	0x96,0x41,0x80,0x02,0x64,0x80,0xE3,0x96,0x80,0x17,0x79,0xE9,0x80,0x06,0x95,0x80
	.db	0xFF
;	Project: The Alan Random Project (TARP)
;	SpriteSet Pattern Data - Size:16x16
;	Sprite range: 0 to 4
;	RLE WB compressed - Original size= 160 - Compress size= 116
titlescreen_SPRPATTERNS:
	.db	0x01,0x0F,0x38,0x60,0x40,0x80,0x04,0xC0,0x40,0x60,0x30,0x18,0x0C,0x06,0xC0,0xF0
	.db	0x1C,0x06,0x06,0x80,0x03,0x03,0x02,0x06,0x04,0x08,0x08,0x18,0x18,0x80,0x06,0x03
	.db	0x02,0x04,0x08,0x10,0x20,0x40,0x40,0x80,0x00,0x80,0x00,0x80,0x03,0x08,0x0F,0x08
	.db	0x80,0x09,0x00,0x07,0x1C,0x30,0x60,0x40,0x80,0x03,0xC0,0xE0,0x60,0x30,0x18,0x0C
	.db	0x04,0x06,0xE0,0x38,0x0C,0x04,0x06,0x80,0x04,0x03,0x06,0x06,0x0C,0x18,0x10,0x20
	.db	0x03,0x03,0x80,0x02,0x06,0x7C,0x0C,0x80,0x08,0x00,0x10,0x30,0x80,0x02,0x20,0x60
	.db	0x40,0x40,0x20,0x10,0x08,0x04,0x04,0x02,0x01,0x01,0x88,0x80,0x02,0x00,0x88,0x80
	.db	0x1A,0x00,0x80,0xFF
;src\tarp.c:2294: }
;src\tarp.c:2298: void setTileset(void) __naked
;	---------------------------------
; Function setTileset
; ---------------------------------
_setTileset::
;src\tarp.c:2477: __endasm;
	ld	hl,#TILESET_PAT
	ld	de,#0x0000
	call	unRLEWBVRAM
	ld	hl,#TILESET_PAT
	ld	de,#0x0000 + 2048
	call	unRLEWBVRAM
	ld	hl,#TILESET_PAT
	ld	de,#0x0000 + 4096
	call	unRLEWBVRAM
	ld	hl,#TILESET_COL
	ld	de,#0x2000
	call	unRLEWBVRAM
	ld	hl,#TILESET_COL
	ld	de,#0x2000 + 2048
	call	unRLEWBVRAM
	ld	hl,#TILESET_COL
	ld	de,#0x2000 + 4096
	jp	unRLEWBVRAM
;	Project: The Alan Random Project (TARP)
;	tileset pattern
;	Tiles range: 0 to 255
;	RLE WB compressed - Original size= 2048 - Compress size= 1802
;	main_v4
TILESET_PAT:
	.db	0xFF,0xC1,0x80,0x02,0x9C,0xC1,0x80,0x02,0xFF,0xE7,0xC7,0xE7,0xE7,0xC3,0x80,0x02
	.db	0xFF,0x81,0xFC,0xC1,0x9F,0x80,0x00,0x80,0x02,0xFF,0x81,0xFC,0xE1,0xFC,0x81,0x80
	.db	0x02,0xFF,0x9C,0x9C,0x80,0x00,0xFC,0xFC,0x80,0x02,0xFF,0x80,0x00,0x9F,0x81,0xFC
	.db	0x81,0x80,0x02,0xFF,0xC1,0x9F,0x81,0x9C,0xC1,0x80,0x02,0xFF,0x80,0x00,0xFC,0xF9
	.db	0xF3,0xF3,0x80,0x02,0xFF,0xC1,0x9C,0xC1,0x9C,0xC1,0x80,0x02,0xFF,0xC1,0x9C,0xC0
	.db	0xFC,0xC1,0x80,0x08,0xFF,0x00,0x80,0x02,0xFF,0xC3,0x80,0x03,0xFF,0x3F,0x71,0x77
	.db	0x73,0x77,0x77,0x3F,0x00,0xF8,0xBC,0x3C,0xBC,0xBC,0x1C,0xF8,0x00,0xF8,0x3C,0xDC
	.db	0xBC,0x7C,0x1C,0xF8,0x00,0x00,0x63,0x54,0x62,0x51,0x66,0x00,0xFF,0x00,0x72,0x25
	.db	0x25,0x27,0x25,0x00,0xFF,0x00,0x60,0x50,0x60,0x50,0x60,0x00,0xFF,0x00,0x6E,0x80
	.db	0x02,0x84,0x64,0x00,0xFF,0x00,0xC8,0xA8,0xA8,0xC8,0xAE,0x00,0xFF,0x00,0x6A,0x8A
	.db	0x4E,0x2A,0xCA,0x00,0xFF,0x00,0xB7,0xA2,0xB2,0xA2,0xA2,0x00,0xFF,0x00,0x60,0x78
	.db	0x7E,0x78,0x60,0x80,0x02,0x00,0x80,0x04,0x7E,0x80,0x02,0x00,0x7E,0x63,0x63,0x7E
	.db	0x60,0x80,0x02,0x00,0x80,0x03,0x60,0x7F,0x80,0x02,0x00,0x3E,0x63,0x63,0x7F,0x63
	.db	0x80,0x02,0x00,0x66,0x66,0x3C,0x18,0x18,0x00,0x00,0x80,0x02,0xFF,0x84,0xF5,0x85
	.db	0xF5,0x84,0x80,0x02,0xFF,0x21,0xBD,0xA1,0xBD,0x21,0x80,0x02,0x00,0x80,0x00,0xF7
	.db	0x94,0x94,0xF7,0x80,0x03,0x00,0xB8,0x24,0x24,0xA4,0x80,0x08,0x00,0x80,0x03,0x0C
	.db	0x00,0x0C,0x00,0x00,0x14,0x14,0x80,0x05,0x00,0x14,0x3E,0x14,0x3E,0x14,0x00,0x00
	.db	0x08,0x3E,0x68,0x3E,0x0B,0x3E,0x08,0x00,0x00,0x33,0x36,0x0C,0x1B,0x33,0x80,0x02
	.db	0x00,0x38,0x6C,0x3D,0x66,0x3D,0x80,0x02,0x00,0x18,0x30,0x80,0x04,0x00,0x06,0x80
	.db	0x04,0x0C,0x06,0x00,0x30,0x80,0x04,0x18,0x30,0x00,0x00,0x5A,0x3C,0x7E,0x3C,0x5A
	.db	0x80,0x02,0x00,0x18,0x18,0x7E,0x18,0x18,0x80,0x05,0x00,0x18,0x18,0x10,0x80,0x03
	.db	0x00,0x7E,0x80,0x07,0x00,0x18,0x18,0x80,0x02,0x00,0x06,0x0C,0x18,0x30,0x60,0x80
	.db	0x02,0x00,0x3E,0x80,0x02,0x63,0x3E,0x80,0x02,0x00,0x18,0x38,0x18,0x18,0x3C,0x80
	.db	0x02,0x00,0x7E,0x03,0x3E,0x60,0x7F,0x80,0x02,0x00,0x7E,0x03,0x1E,0x03,0x7E,0x80
	.db	0x02,0x00,0x63,0x63,0x7F,0x03,0x03,0x80,0x02,0x00,0x7F,0x60,0x7E,0x03,0x7E,0x80
	.db	0x02,0x00,0x3E,0x60,0x7E,0x63,0x3E,0x80,0x02,0x00,0x7F,0x03,0x06,0x0C,0x0C,0x80
	.db	0x02,0x00,0x3E,0x63,0x3E,0x63,0x3E,0x80,0x02,0x00,0x3E,0x63,0x3F,0x03,0x3E,0x80
	.db	0x02,0x00,0x18,0x18,0x00,0x18,0x18,0x80,0x02,0x00,0x18,0x18,0x00,0x18,0x18,0x10
	.db	0x00,0x00,0x0C,0x18,0x30,0x18,0x0C,0x80,0x03,0x00,0x3C,0x00,0x3C,0x80,0x03,0x00
	.db	0x30,0x18,0x0C,0x18,0x30,0x80,0x02,0x00,0x1E,0x33,0x06,0x0C,0x00,0x0C,0x00,0x3E
	.db	0x41,0x5D,0x55,0x5F,0x40,0x3E,0x00,0x3E,0x63,0x63,0x7F,0x63,0x63,0x00,0x00,0x7E
	.db	0x63,0x7E,0x63,0x63,0x7E,0x00,0x00,0x3F,0x80,0x03,0x60,0x3F,0x00,0x00,0x7E,0x80
	.db	0x03,0x63,0x7E,0x00,0x00,0x7F,0x60,0x7C,0x60,0x60,0x7F,0x00,0x00,0x7F,0x60,0x7C
	.db	0x80,0x02,0x60,0x00,0x00,0x3F,0x60,0x60,0x67,0x63,0x3F,0x00,0x00,0x63,0x63,0x7F
	.db	0x80,0x02,0x63,0x00,0x00,0x80,0x05,0x0C,0x00,0x00,0x80,0x04,0x0C,0x38,0x00,0x00
	.db	0x63,0x66,0x7C,0x66,0x63,0x63,0x00,0x00,0x80,0x04,0x60,0x7F,0x00,0x00,0x63,0x77
	.db	0x7F,0x6B,0x63,0x63,0x00,0x00,0x63,0x73,0x7B,0x6F,0x67,0x63,0x00,0x00,0x3E,0x80
	.db	0x03,0x63,0x3E,0x00,0x00,0x7E,0x63,0x63,0x7E,0x60,0x60,0x00,0x00,0x3E,0x63,0x63
	.db	0x6B,0x66,0x3D,0x00,0x00,0x7E,0x63,0x63,0x7E,0x63,0x63,0x00,0x00,0x3F,0x60,0x3E
	.db	0x03,0x03,0x7E,0x00,0x00,0x7E,0x80,0x04,0x18,0x00,0x00,0x80,0x04,0x63,0x3E,0x00
	.db	0x00,0x80,0x03,0x63,0x36,0x1C,0x00,0x00,0x63,0x63,0x6B,0x7F,0x77,0x63,0x00,0x00
	.db	0x63,0x36,0x1C,0x1C,0x36,0x63,0x00,0x00,0x80,0x02,0x66,0x3C,0x18,0x18,0x00,0x00
	.db	0x7F,0x06,0x0C,0x18,0x30,0x7F,0x00,0x00,0x0E,0x80,0x04,0x0C,0x0E,0x00,0x00,0x60
	.db	0x30,0x18,0x0C,0x06,0x00,0x00,0x38,0x80,0x04,0x18,0x38,0x00,0x10,0x38,0x6C,0x80
	.db	0x0A,0x00,0x7E,0x80,0x09,0x00,0x3E,0x03,0x3F,0x63,0x7F,0x00,0x00,0x60,0x7E,0x80
	.db	0x02,0x63,0x7E,0x80,0x02,0x00,0x3F,0x80,0x02,0x60,0x3F,0x00,0x00,0x03,0x3F,0x80
	.db	0x02,0x63,0x3F,0x80,0x02,0x00,0x3E,0x63,0x7F,0x60,0x3E,0x80,0x02,0x00,0x3E,0x60
	.db	0x78,0x60,0x60,0x80,0x02,0x00,0x3E,0x63,0x63,0x3F,0x03,0x3E,0x00,0x60,0x7E,0x80
	.db	0x03,0x63,0x00,0x00,0x0C,0x00,0x80,0x03,0x0C,0x00,0x00,0x0C,0x00,0x80,0x03,0x0C
	.db	0x38,0x00,0x00,0x66,0x66,0x7C,0x66,0x63,0x00,0x00,0x80,0x05,0x18,0x80,0x02,0x00
	.db	0x7E,0x80,0x03,0x6B,0x80,0x02,0x00,0x7E,0x80,0x03,0x63,0x80,0x02,0x00,0x3E,0x80
	.db	0x02,0x63,0x3E,0x80,0x02,0x00,0x7E,0x80,0x02,0x63,0x7E,0x60,0x00,0x00,0x3F,0x80
	.db	0x02,0x63,0x3F,0x03,0x00,0x00,0x3F,0x80,0x03,0x60,0x80,0x02,0x00,0x3F,0x60,0x3E
	.db	0x03,0x7E,0x00,0x00,0x18,0x3E,0x80,0x02,0x18,0x0E,0x80,0x02,0x00,0x80,0x03,0x63
	.db	0x3E,0x80,0x02,0x00,0x80,0x02,0x63,0x36,0x1C,0x80,0x02,0x00,0x63,0x80,0x02,0x6B
	.db	0x36,0x80,0x02,0x00,0x66,0x3C,0x18,0x3C,0x66,0x80,0x02,0x00,0x80,0x02,0x63,0x3F
	.db	0x03,0x3E,0x00,0x00,0x7E,0x0C,0x18,0x30,0x7E,0x80,0x0A,0x00,0x63,0x63,0x7F,0x63
	.db	0x63,0x80,0x02,0x00,0x7F,0x60,0x7E,0x60,0x7F,0x00,0x00,0x80,0x0F,0xE0,0x00,0x78
	.db	0x7C,0x7E,0x7C,0x78,0x80,0x02,0x00,0x3E,0x63,0x7F,0x63,0x63,0x80,0x02,0x00,0x7E
	.db	0x63,0x7E,0x63,0x7E,0x80,0x02,0x00,0x3F,0x80,0x02,0x60,0x3F,0x80,0x02,0x00,0x7E
	.db	0x80,0x02,0x63,0x7E,0x80,0x02,0x00,0x7F,0x60,0x7C,0x60,0x7F,0x80,0x02,0x00,0x7F
	.db	0x60,0x7C,0x60,0x60,0x80,0x02,0x00,0x3F,0x60,0x67,0x63,0x3F,0x80,0x02,0x00,0x63
	.db	0x63,0x7F,0x63,0x63,0x80,0x02,0x00,0x1E,0x80,0x02,0x0C,0x1E,0x80,0x02,0x00,0x1E
	.db	0x0C,0x0C,0x6C,0x38,0x80,0x02,0x00,0x63,0x66,0x7C,0x66,0x63,0x80,0x02,0x00,0x80
	.db	0x03,0x60,0x7F,0x80,0x02,0x00,0x63,0x77,0x7F,0x6B,0x63,0x80,0x02,0x00,0x63,0x73
	.db	0x7B,0x6F,0x67,0x80,0x02,0x00,0x3E,0x80,0x02,0x63,0x3E,0x80,0x02,0x00,0x7E,0x63
	.db	0x63,0x7E,0x60,0x80,0x02,0x00,0x3E,0x63,0x6B,0x66,0x3D,0x80,0x02,0x00,0x7E,0x63
	.db	0x63,0x7E,0x63,0x80,0x02,0x00,0x3F,0x60,0x3E,0x03,0x7E,0x80,0x02,0x00,0x7E,0x80
	.db	0x03,0x18,0x80,0x02,0x00,0x80,0x03,0x63,0x3E,0x80,0x02,0x00,0x80,0x02,0x63,0x36
	.db	0x1C,0x80,0x02,0x00,0x63,0x6B,0x7F,0x77,0x63,0x80,0x02,0x00,0x63,0x36,0x1C,0x36
	.db	0x63,0x80,0x02,0x00,0x66,0x66,0x3C,0x18,0x18,0x80,0x02,0x00,0x7E,0x0C,0x18,0x30
	.db	0x7E,0x80,0x02,0x00,0x18,0x18,0x00,0x18,0x18,0x80,0x02,0x00,0xF0,0x92,0x92,0x12
	.db	0x1E,0x80,0x02,0x00,0x7C,0xFE,0xBA,0x82,0x82,0x7C,0x00,0x00,0xF0,0x92,0x92,0x12
	.db	0x1E,0x80,0x02,0x00,0x7C,0xFE,0xBA,0x82,0x82,0x7C,0x00,0x80,0x04,0xFF,0xFC,0xF8
	.db	0xF8,0x80,0x04,0xFF,0x80,0x02,0x00,0x80,0x04,0xFF,0x3F,0x1F,0x1F,0xF8,0xF8,0xFC
	.db	0xFF,0xFF,0xFC,0xF8,0xF8,0x80,0x02,0x00,0xFF,0xFF,0x80,0x05,0x00,0xFF,0xFF,0x3C
	.db	0x18,0x18,0x1F,0x1F,0x3F,0xFF,0xFF,0x3F,0x1F,0x1F,0x80,0x07,0xF8,0x80,0x07,0x1F
	.db	0x80,0x09,0x18,0x3C,0xFF,0xFF,0x80,0x02,0x00,0x18,0x18,0x38,0xF8,0xF8,0x38,0x18
	.db	0x18,0xF8,0xF8,0xFC,0x80,0x04,0xFF,0x80,0x02,0x00,0x80,0x04,0xFF,0x1F,0x1F,0x3F
	.db	0x80,0x04,0xFF,0x18,0x18,0x38,0x80,0x04,0xF8,0x18,0x18,0x1C,0x1F,0x1F,0x1C,0x18
	.db	0x18,0x80,0x04,0xFF,0x3C,0x18,0x18,0x1F,0x1F,0x3F,0xFF,0xFF,0x80,0x02,0x00,0x18
	.db	0x18,0x3C,0xFF,0xFF,0x3C,0x80,0x03,0x18,0x3C,0x80,0x04,0xFF,0x1F,0x1F,0x3F,0xFF
	.db	0xFF,0x3C,0x18,0x18,0x80,0x07,0xFF,0x00,0x7E,0x63,0x63,0x7E,0x63,0x80,0x02,0x00
	.db	0x63,0x73,0x7B,0x6F,0x67,0x80,0x02,0x00,0x7E,0x80,0x02,0x63,0x7E,0x00,0x00,0xE0
	.db	0x80,0x04,0xF0,0xE0,0x00,0x07,0x80,0x04,0x0F,0x07,0x00,0x80,0x02,0x7F,0x41,0x80
	.db	0x02,0x7F,0x00,0x80,0x02,0x7F,0x41,0x80,0x02,0x7F,0x00,0x7F,0x77,0x77,0x41,0x77
	.db	0x77,0x7F,0x00,0x7F,0x77,0x77,0x41,0x77,0x77,0x7F,0x00,0xFF,0x9F,0xE7,0xF9,0xFE
	.db	0xFF,0xFF,0x00,0x80,0x03,0xFF,0x7F,0x9F,0xFF,0x00,0xFF,0xFF,0xFE,0xF9,0xE7,0x9F
	.db	0xFF,0x00,0xFF,0x9F,0x7F,0x80,0x03,0xFF,0x00,0xFF,0xBF,0xDF,0xEE,0xF5,0xFB,0xFF
	.db	0x00,0xFF,0xBF,0x7F,0x80,0x03,0xFF,0x00,0xFF,0xFB,0xF5,0xEE,0xDF,0xBF,0xFF,0x00
	.db	0x80,0x03,0xFF,0x7F,0xBF,0xFF,0x00,0xFF,0x81,0xBD,0xBD,0xFD,0xFC,0xFF,0x00,0x80
	.db	0x02,0xFF,0xEF,0xEF,0x0F,0xFF,0x00,0xFF,0xE7,0xDB,0xBD,0xFE,0xFF,0xFF,0x00,0x80
	.db	0x02,0xFF,0xEF,0xDF,0x3F,0xFF,0x00,0xFF,0x8F,0xF7,0xFB,0xFD,0xFE,0xFF,0x00,0x80
	.db	0x04,0xFF,0x3F,0xFF,0x00,0xFF,0xBF,0xDF,0xE0,0x80,0x02,0xFF,0x00,0x80,0x02,0xFF
	.db	0x3F,0xDF,0xEF,0xFF,0x00,0x80,0x06,0xFF,0x00,0x7C,0x80,0x04,0x82,0x7C,0x00,0x7C
	.db	0x80,0x04,0xFE,0x7C,0x00,0x7C,0x80,0x04,0xFE,0x7C,0x00,0x7C,0x80,0x04,0xFE,0x7C
	.db	0x00,0x7C,0x80,0x04,0xFE,0x7C,0x00,0x00,0x6C,0x8A,0xAA,0xAC,0x6A,0x00,0xFF,0x00
	.db	0xCA,0xAA,0xAE,0xCA,0x8A,0x00,0xFF,0x0C,0x14,0x80,0x02,0x64,0x14,0x0C,0x00,0x0C
	.db	0x14,0x80,0x02,0x64,0x14,0x0C,0x00,0x00,0x38,0x80,0x02,0x44,0x38,0x80,0x02,0x00
	.db	0x38,0x80,0x02,0x7C,0x38,0x80,0x02,0x00,0x38,0x80,0x02,0x7C,0x38,0x00,0x00,0x7F
	.db	0x80,0x04,0x80,0x7F,0x00,0xFE,0x80,0x04,0x81,0xFE,0x00,0x00,0x80,0x03,0x54,0x80
	.db	0x07,0x00,0x03,0x07,0x1F,0x00,0x03,0x0F,0x7F,0x80,0x03,0xFF,0x3F,0x80,0x06,0xFF
	.db	0xFC,0x80,0x06,0xFF,0x00,0xC0,0xF0,0xFE,0x80,0x03,0xFF,0x80,0x04,0x00,0xC0,0xE0
	.db	0xF8,0x80,0x02,0x00,0x01,0x01,0x03,0x07,0x07,0x3F,0x7F,0x80,0x0D,0xFF,0xFC,0xFE
	.db	0x80,0x05,0xFF,0x80,0x02,0x00,0x80,0x00,0x80,0x00,0xC0,0xE0,0xE0,0x0F,0x80,0x02
	.db	0x1F,0x3F,0x3F,0x7F,0x7F,0xF0,0x80,0x02,0xF8,0xFC,0xFC,0xFE,0xFE,0x7F,0x7F,0x80
	.db	0x05,0xFF,0xFE,0xFE,0x80,0x0B,0xFF,0x7F,0x7F,0x80,0x05,0xFF,0xFE,0xFE,0x7F,0x7F
	.db	0x3F,0x3F,0x80,0x02,0x1F,0x0F,0xFE,0xFE,0xFC,0xFC,0x80,0x02,0xF8,0xF0,0x07,0x07
	.db	0x03,0x01,0x01,0x80,0x02,0x00,0x80,0x05,0xFF,0x7F,0x3F,0x80,0x05,0xFF,0xFE,0xFC
	.db	0xE0,0xE0,0xC0,0x80,0x00,0x80,0x00,0x80,0x02,0x00,0x1F,0x07,0x03,0x80,0x04,0x00
	.db	0x80,0x03,0xFF,0x7F,0x0F,0x03,0x00,0x80,0x06,0xFF,0x3F,0x80,0x06,0xFF,0xFC,0x80
	.db	0x03,0xFF,0xFE,0xF0,0xC0,0x00,0xF8,0xE0,0xC0,0x80,0x08,0x00,0x7C,0x38,0x10,0x80
	.db	0x04,0x00,0x7C,0x38,0x10,0x80,0x08,0x00,0x80,0xFF
;	Project: The Alan Random Project (TARP)
;	tileset color - type:G2
;	Tiles range: 0 to 255
;	RLE WB compressed - Original size= 2048 - Compress size= 297
;	main_v4
TILESET_COL:
	.db	0x80,0x06,0x2F,0xEF,0x80,0x06,0x2F,0xEF,0x80,0x06,0x2F,0xEF,0x80,0x06,0x2F,0xEF
	.db	0x80,0x06,0x2F,0xEF,0x80,0x06,0x2F,0xEF,0x80,0x06,0x2F,0xEF,0x80,0x06,0x2F,0xEF
	.db	0x80,0x06,0x2F,0xEF,0x80,0x06,0x2F,0xEF,0x80,0x07,0x2E,0x80,0x06,0x2F,0xEF,0x80
	.db	0x17,0x4E,0x80,0x37,0xE4,0x80,0x06,0xF4,0xFE,0x80,0x06,0xF4,0xFE,0x80,0x06,0xF4
	.db	0xFE,0x80,0x06,0xF4,0xFE,0x80,0x06,0xF4,0xFE,0x80,0x06,0xF4,0xFE,0x80,0x0F,0x1E
	.db	0x80,0x0F,0x41,0x80,0xFE,0x1E,0x80,0xFE,0x1E,0x80,0xD9,0x1E,0x80,0x06,0xF4,0xFE
	.db	0x80,0x06,0xF4,0xFE,0x80,0x06,0xF4,0xFE,0x80,0x07,0x45,0x80,0x07,0x75,0x80,0x07
	.db	0x8E,0x80,0xE7,0xDE,0x80,0x0F,0xD1,0x80,0xB7,0x5E,0x80,0x06,0xF4,0xFE,0x80,0x06
	.db	0xF4,0xFE,0x80,0x06,0xF4,0xFE,0x80,0x17,0x4E,0x80,0x07,0xDE,0x80,0x07,0x4E,0x80
	.db	0x07,0xDE,0xFE,0x80,0x05,0xF4,0x80,0x04,0xFE,0x80,0x02,0xF4,0x80,0x02,0xFE,0x80
	.db	0x04,0xF4,0xFE,0xFE,0x80,0x05,0xF4,0xFE,0xFE,0x80,0x05,0xF4,0xFE,0xFE,0x80,0x05
	.db	0xF4,0xFE,0xFE,0x80,0x05,0xF4,0x80,0x04,0xFE,0x80,0x02,0xF4,0xFE,0xFE,0x80,0x05
	.db	0xF4,0x80,0x03,0xFE,0x80,0x03,0xF4,0xFE,0xFE,0x80,0x05,0xF4,0x80,0x03,0xFE,0x80
	.db	0x03,0xF4,0xFE,0xFE,0x80,0x05,0xF4,0x80,0x05,0xFE,0xF4,0xF4,0xFE,0xFE,0x80,0x05
	.db	0xF4,0x80,0x03,0xFE,0x80,0x03,0xF4,0x80,0x08,0xFE,0x80,0x07,0x41,0x80,0x07,0xC1
	.db	0x80,0x07,0x81,0x80,0x07,0x71,0x80,0x07,0xF1,0x80,0x0F,0xE4,0x80,0x07,0x5E,0x80
	.db	0x07,0x3E,0x80,0x07,0x1E,0x80,0x07,0xCE,0x80,0x07,0x9E,0x15,0x80,0x04,0x1C,0x15
	.db	0xFE,0x15,0x80,0x04,0x18,0x15,0xFE,0x80,0x06,0x51,0xFE,0x80,0xE7,0x61,0x80,0x07
	.db	0x71,0x80,0x07,0x41,0x80,0x07,0x61,0x80,0xFF
;src\tarp.c:2478: }
;src\tarp.c:2485: void setSprites(void) __naked
;	---------------------------------
; Function setSprites
; ---------------------------------
_setSprites::
;src\tarp.c:2512: __endasm;
	ld	HL,#SPRITES_DATA
	ld	DE,#0x3800
	jp	unRLEWBVRAM
;	Project: The Alan Random Project (TARP)
;	SpriteSet Pattern Data - Size:16x16
;	Sprite range: 0 to 7
;	RLE WB compressed - Original size= 256 - Compress size= 184
SPRITES_DATA:
	.db	0x80,0x06,0x00,0x01,0x01,0x80,0x0D,0x00,0x80,0x00,0x80,0x00,0x80,0x0C,0x00,0x01
	.db	0x03,0x03,0x01,0x80,0x0B,0x00,0x80,0x00,0xC0,0xC0,0x80,0x00,0x80,0x0A,0x00,0x01
	.db	0x03,0x07,0x07,0x03,0x01,0x80,0x09,0x00,0x80,0x00,0xC0,0xE0,0xE0,0xC0,0x80,0x00
	.db	0x80,0x08,0x00,0x03,0x07,0x80,0x03,0x0F,0x07,0x03,0x80,0x07,0x00,0xC0,0xE0,0x80
	.db	0x03,0xF0,0xE0,0xC0,0x80,0x06,0x00,0x01,0x07,0x0F,0x0F,0x1F,0x1F,0x0F,0x0F,0x07
	.db	0x01,0x80,0x05,0x00,0x80,0x00,0xE0,0xF0,0xF0,0xF8,0xF8,0xF0,0xF0,0xE0,0x80,0x00
	.db	0x80,0x04,0x00,0x03,0x0F,0x1F,0x1F,0x80,0x03,0x3F,0x1F,0x1F,0x0F,0x03,0x80,0x03
	.db	0x00,0xC0,0xF0,0xF8,0xF8,0x80,0x03,0xFC,0xF8,0xF8,0xF0,0xC0,0x80,0x02,0x00,0x03
	.db	0x0F,0x1F,0x3F,0x3F,0x80,0x03,0x7F,0x3F,0x3F,0x1F,0x0F,0x03,0x00,0x00,0xC0,0xF0
	.db	0xF8,0xFC,0xFC,0x80,0x03,0xFE,0xFC,0xFC,0xF8,0xF0,0xC0,0x00,0x07,0x1F,0x3F,0x7F
	.db	0x7F,0x80,0x05,0xFF,0x7F,0x7F,0x3F,0x1F,0x07,0xE0,0xF8,0xFC,0xFE,0xFE,0x80,0x05
	.db	0xFF,0xFE,0xFE,0xFC,0xF8,0xE0,0x80,0xFF
;src\tarp.c:2513: }
;src\tarp.c:2519: void showMainScr(void) __naked
;	---------------------------------
; Function showMainScr
; ---------------------------------
_showMainScr::
;src\tarp.c:2559: __endasm;
	ld	HL,#SCR01
	ld	DE,#0x1800
	jp	unRLEWBVRAM
;	Project: The Alan Random Project (TARP)
;	map size width:32 height:24
;	RLE WB compressed - Original size= 768 - Compress size= 397
;	main_v4_6
SCR01:
	.db	0xA0,0x80,0x09,0xA1,0xA2,0x80,0x0F,0xFF,0x1C,0x1D,0x1E,0x1F,0xA7,0x20,0x93,0x8F
	.db	0x8E,0x87,0x80,0x04,0x20,0xA8,0x80,0x13,0xFF,0xA7,0x80,0x02,0x20,0xBB,0x10,0x11
	.db	0xB7,0xB8,0xB9,0xBA,0xA8,0x80,0x13,0xFF,0xA7,0x80,0x02,0x20,0xBB,0x7B,0x18,0x19
	.db	0x1A,0x1B,0xBA,0xA8,0x80,0x13,0xFF,0xA7,0x20,0xDA,0x41,0x20,0xDA,0x42,0x20,0xBB
	.db	0x0F,0xBA,0xA8,0x80,0x13,0xFF,0xA7,0x20,0x43,0x6F,0x70,0x79,0x20,0xBB,0xD6,0xD7
	.db	0xBA,0xA8,0x80,0x13,0xFF,0xA7,0x20,0x53,0x70,0x65,0x65,0x64,0x20,0x20,0xBC,0xBE
	.db	0xA8,0x80,0x13,0xFF,0xA3,0x80,0x09,0xA4,0xA6,0x80,0x06,0xFF,0xE0,0xE1,0xE2,0xE3
	.db	0xE4,0xE5,0x80,0x06,0xFF,0xA7,0x20,0x92,0x88,0x99,0x94,0x88,0x8D,0x0C,0x0D,0xD8
	.db	0xA8,0x80,0x05,0xFF,0xE6,0xE7,0x80,0x03,0xE8,0xE9,0xEA,0x80,0x05,0xFF,0xA7,0x80
	.db	0x02,0x20,0xBB,0x12,0x13,0xB7,0xB8,0xB9,0xBA,0xA8,0x80,0x05,0xFF,0xEB,0x80,0x05
	.db	0xE8,0xEC,0x80,0x05,0xFF,0xA7,0x20,0x4B,0x69,0x74,0x80,0x03,0x20,0xDF,0xDE,0xA8
	.db	0x80,0x05,0xFF,0xED,0x80,0x05,0xE8,0xEE,0x80,0x05,0xFF,0xA3,0x80,0x09,0xA4,0xA6
	.db	0x80,0x05,0xFF,0xEF,0x80,0x05,0xE8,0xF0,0x80,0x05,0xFF,0xA7,0x20,0x8D,0x85,0x8C
	.db	0x8F,0x84,0x99,0x0C,0x0E,0xD8,0xA8,0x80,0x05,0xFF,0xF1,0x80,0x05,0xE8,0xF2,0x80
	.db	0x05,0xFF,0xA7,0x80,0x02,0x20,0xBB,0x14,0x15,0xB7,0xB8,0xB9,0xBA,0xA8,0x80,0x05
	.db	0xFF,0xF3,0xF4,0x80,0x03,0xE8,0xF5,0xF6,0x80,0x05,0xFF,0xA7,0x20,0x41,0x2B,0x42
	.db	0x80,0x03,0x20,0xDF,0xDE,0xA8,0x80,0x06,0xFF,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0x80
	.db	0x06,0xFF,0xA7,0x20,0x4F,0x66,0x66,0x73,0x80,0x02,0x20,0xBC,0xBE,0xA8,0x80,0x13
	.db	0xFF,0xA7,0x20,0x45,0x6E,0x76,0x80,0x03,0x20,0xBC,0xBE,0xA8,0x80,0x13,0xFF,0xA7
	.db	0x20,0x4C,0x6F,0x6F,0x70,0x80,0x02,0x20,0xDF,0xDE,0xA8,0x80,0x13,0xFF,0xA7,0x80
	.db	0x09,0x20,0xA8,0x80,0x13,0xFF,0xA7,0x20,0x4F,0x63,0x74,0x61,0x76,0x65,0x20,0xBC
	.db	0xBE,0xA8,0x80,0x13,0xFF,0xA7,0x20,0x44,0x6F,0x77,0x6E,0x2F,0x55,0x70,0xBC,0xBE
	.db	0xA8,0x80,0x13,0xFF,0xA3,0x80,0x09,0xA4,0xA6,0x80,0x13,0xFF,0xA7,0x80,0x02,0x20
	.db	0xBB,0x7B,0x7C,0x7D,0x19,0x18,0xBA,0xA8,0xFF,0x9F,0x80,0x0F,0xD1,0xFF,0xFF,0xAC
	.db	0x80,0x09,0xAD,0xAE,0xFF,0x9E,0x80,0x0F,0xD1,0xFF,0xFF,0x80,0xFF
;src\tarp.c:2560: }
;src\tarp.c:2565: void showHelpScr(void) __naked
;	---------------------------------
; Function showHelpScr
; ---------------------------------
_showHelpScr::
;src\tarp.c:2590: __endasm;
	ld	HL,#SCR02
	ld	DE,#0x1800
	jp	unRLEWBVRAM
;	Project: The Alan Random Project (TARP)
;	map size width:32 height:24
;	RLE WB compressed - Original size= 768 - Compress size= 163
SCR02:
	.db	0xA0,0x80,0x13,0xA1,0xB1,0x80,0x07,0xA1,0xA2,0xB6,0xA7,0x88,0x85,0x8C,0x90,0x80
	.db	0x0F,0x20,0xA9,0x96,0x80,0x06,0x20,0xA8,0xB6,0xA3,0x80,0x13,0xA4,0xAA,0x80,0x07
	.db	0xA4,0xA6,0xB6,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7
	.db	0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8
	.db	0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C
	.db	0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7
	.db	0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8
	.db	0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C
	.db	0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xA7
	.db	0x80,0x1C,0x20,0xA8,0x7E,0xA7,0x80,0x1C,0x20,0xA8,0x7E,0xAC,0x80,0x1C,0xAD,0xAE
	.db	0xB6,0x80,0xFF
;src\tarp.c:2591: }
;src\tarp.c:2599: void SetPalette(char number) __naked
;	---------------------------------
; Function SetPalette
; ---------------------------------
_SetPalette::
;src\tarp.c:2692: __endasm;
	ld	IY,#palIndex
	add	A
	ld	E,A
	ld	D,#0
	add	IY,DE
	ld	H,1(IY)
	ld	L,(IY)
SetV9938Palette:
	xor	A
	di
	out	(#0x99),A
	ld	A,#144
	out	(#0x99),A
	ld	BC,#0x209A
	otir
	ei
	ret
palIndex:
	.dw	TITLE_PAL,MAIN_PAL,HELP_PAL
;	RB,G
TITLE_PAL:
	.db	0x00,0x00
	.db	0x00,0x00
	.db	0x01,0x06
	.db	0x03,0x07
	.db	0x24,0x03
	.db	0x27,0x03
	.db	0x51,0x01
	.db	0x27,0x06
	.db	0x71,0x01
	.db	0x73,0x03
	.db	0x61,0x06
	.db	0x64,0x06
	.db	0x01,0x05
	.db	0x65,0x02
	.db	0x55,0x05
	.db	0x77,0x07
;	RB,G
MAIN_PAL:
	.db	0x00,0x00
	.db	0x00,0x00
	.db	0x44,0x04
	.db	0x33,0x07
	.db	0x17,0x03
	.db	0x33,0x03
	.db	0x61,0x01
	.db	0x27,0x06
	.db	0x71,0x01
	.db	0x73,0x03
	.db	0x61,0x06
	.db	0x64,0x06
	.db	0x11,0x04
	.db	0x65,0x02
	.db	0x66,0x06
	.db	0x77,0x07
HELP_PAL:
	.db	0x00,0x00
	.db	0x00,0x00
	.db	0x44,0x04
	.db	0x33,0x07
	.db	0x33,0x03
	.db	0x37,0x04
	.db	0x61,0x01
	.db	0x47,0x06
	.db	0x71,0x01
	.db	0x73,0x03
	.db	0x61,0x06
	.db	0x64,0x06
	.db	0x11,0x04
	.db	0x65,0x02
	.db	0x66,0x06
	.db	0x77,0x07
;src\tarp.c:2693: }
	.area _CODE
	.area _INITIALIZER
	.area _CABS (ABS)
